{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to StudioSync","text":"<p>StudioSync is a comprehensive SaaS platform designed to streamline the operations of music schools and private studios. It handles everything from student enrollment and lesson scheduling to billing and communication.</p> <ul> <li> <p> Scheduling     ---     Manage lessons, recurring appointments, and teacher availability with a powerful calendar interface.</p> </li> <li> <p> Student Management     ---     Track student progress, attendance, and repertoire. manage family accounts for streamlined billing.</p> </li> <li> <p> Billing &amp; Invoicing     ---     Automated invoicing, payment tracking, and financial reporting. Support for Stripe integration.</p> </li> <li> <p> Communication     ---     Integrated messaging system for students, teachers, and parents. Email notifications and reminders.</p> </li> </ul>"},{"location":"#project-structure","title":"Project Structure","text":"<p>The project is built using a modern tech stack:</p> <ul> <li>Backend: Django REST Framework (Python)</li> <li>Frontend: Next.js (React/TypeScript)</li> <li>Database: PostgreSQL</li> <li>Storage: AWS S3 / MinIO</li> </ul>"},{"location":"#getting-started","title":"Getting Started","text":"<p>Check out the Getting Started guide to set up the development environment.</p>"},{"location":"APPEARANCE_SYSTEM/","title":"Appearance System Implementation","text":""},{"location":"APPEARANCE_SYSTEM/#now-fully-functional","title":"\u2705 Now Fully Functional!","text":"<p>The appearance settings now actually apply to the UI when you save them!</p>"},{"location":"APPEARANCE_SYSTEM/#how-it-works","title":"How It Works","text":""},{"location":"APPEARANCE_SYSTEM/#1-appearanceprovider-context-contextsappearancecontexttsx","title":"1. AppearanceProvider Context (<code>contexts/AppearanceContext.tsx</code>)","text":"<ul> <li>Wraps the entire dashboard</li> <li>Reads appearance settings from <code>currentUser.preferences.appearance</code></li> <li>Applies changes to the DOM via CSS variables and classes</li> </ul>"},{"location":"APPEARANCE_SYSTEM/#2-theme-switching-light-dark-auto","title":"2. Theme Switching (Light / Dark / Auto)","text":"<pre><code>// Applies 'dark' class to &lt;html&gt; element\nif (theme === 'dark') {\n    document.documentElement.classList.add('dark')\n} else if (theme === 'auto') {\n    // Uses system preference\n    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n        document.documentElement.classList.add('dark')\n    }\n}\n</code></pre>"},{"location":"APPEARANCE_SYSTEM/#3-color-scheme-default-blue-green-purple","title":"3. Color Scheme (Default / Blue / Green / Purple)","text":"<pre><code>// Sets CSS variable --primary-color\nconst colorMap = {\n    default: '#F39C12',  // Orange\n    blue: '#3498DB',\n    green: '#27AE60',\n    purple: '#9B59B6'\n}\ndocument.documentElement.style.setProperty('--primary-color', colorMap[colorScheme])\n</code></pre>"},{"location":"APPEARANCE_SYSTEM/#4-font-size-small-medium-large","title":"4. Font Size (Small / Medium / Large)","text":"<pre><code>// Sets CSS variable --base-font-size\nconst fontSizeMap = {\n    small: '14px',\n    medium: '16px',\n    large: '18px'\n}\ndocument.documentElement.style.setProperty('--base-font-size', fontSizeMap[fontSize])\n</code></pre>"},{"location":"APPEARANCE_SYSTEM/#5-compact-mode","title":"5. Compact Mode","text":"<pre><code>// Adds 'compact-mode' class which reduces spacing\nif (compactMode) {\n    document.documentElement.classList.add('compact-mode')\n}\n</code></pre> <p>CSS then applies reduced spacing: <pre><code>.compact-mode {\n  --spacing-multiplier: 0.75;\n}\n\n.compact-mode .p-6 {\n  padding: calc(1.5rem * var(--spacing-multiplier, 1));\n}\n</code></pre></p>"},{"location":"APPEARANCE_SYSTEM/#testing","title":"Testing","text":"<ol> <li>Go to Settings \u2192 Appearance</li> <li>Change Theme to Dark</li> <li>Click \"Save Changes\"</li> <li>Page reloads with dark mode applied</li> <li>Change Color Scheme to Purple</li> <li>Click \"Save Changes\"  </li> <li>Primary color changes to purple</li> <li>Change Font Size to Large</li> <li>Click \"Save Changes\"</li> <li>Text becomes larger</li> <li>Enable Compact Mode</li> <li>Click \"Save Changes\"</li> <li>Spacing reduces throughout dashboard</li> </ol>"},{"location":"APPEARANCE_SYSTEM/#implementation-details","title":"Implementation Details","text":""},{"location":"APPEARANCE_SYSTEM/#files-modified","title":"Files Modified:","text":"<ul> <li>\u2705 <code>contexts/AppearanceContext.tsx</code> - NEW - Manages appearance state</li> <li>\u2705 <code>app/globals.css</code> - Added CSS variables and compact mode styles</li> <li>\u2705 <code>app/dashboard/layout.tsx</code> - Wrapped with AppearanceProvider</li> <li>\u2705 <code>app/dashboard/settings/page.tsx</code> - Added reload after appearance save</li> </ul>"},{"location":"APPEARANCE_SYSTEM/#why-page-reload","title":"Why Page Reload?","text":"<p>The appearance settings modify CSS variables and classes that affect the entire app. While we could use React state, a page reload ensures all components properly pick up the new styles without any cached styling issues.</p>"},{"location":"APPEARANCE_SYSTEM/#future-enhancements","title":"Future Enhancements","text":"<ul> <li>[ ] Smooth transitions between themes (fade effect)</li> <li>[ ] Preview mode (see changes before saving)</li> <li>[ ] More color schemes (red, teal, etc.)</li> <li>[ ] Custom color picker for advanced users</li> <li>[ ] Remember system preference for auto theme</li> <li>[ ] Accessibility: High contrast mode</li> <li>[ ] Dyslexia-friendly fonts option</li> </ul>"},{"location":"BILLING/","title":"Billing &amp; Payments","text":"<p>StudioSync provides a robust billing system designed for recurring music lessons and one-time payments.</p>"},{"location":"BILLING/#features","title":"Features","text":"<ul> <li>Automated Invoicing: Generate invoices automatically based on scheduled lessons.</li> <li>Online Payments: Integrated with Stripe for secure credit card processing.</li> <li>Payment Tracking: Record manual payments (cash, check) and track outstanding balances.</li> <li>Subscription Support: Support for monthly flat-rate plans.</li> </ul>"},{"location":"BILLING/#data-model","title":"Data Model","text":""},{"location":"BILLING/#invoice","title":"Invoice","text":"<ul> <li><code>user</code>: Link to the student or parent.</li> <li><code>items</code>: Individual line items for lessons or materials.</li> <li><code>total</code>: Calculated total amount.</li> <li><code>status</code>: Draft, Sent, Paid, Overdue, Cancelled.</li> </ul>"},{"location":"BILLING/#payment","title":"Payment","text":"<ul> <li><code>invoice</code>: Link to the invoice.</li> <li><code>amount</code>: Paid amount.</li> <li><code>method</code>: Stripe, Cash, Check, Bank Transfer.</li> <li><code>stripe_id</code>: Transaction ID for online payments.</li> </ul>"},{"location":"BILLING/#integration-with-lessons","title":"Integration with Lessons","text":"<p>Invoices are typically generated at the end of the month or per lesson, depending on the studio configuration. The system checks the <code>Attendance</code> records to calculate the final amount for pay-as-you-go students.</p>"},{"location":"BILLING/#stripe-setup","title":"Stripe Setup","text":"<p>To enable online payments, you must configure your Stripe API keys in the Settings page or via environment variables.</p>"},{"location":"CALENDAR_PRIVACY_GUIDE/","title":"Calendar Privacy Recommendations","text":""},{"location":"CALENDAR_PRIVACY_GUIDE/#privacy-strategy-for-music-studio-calendars","title":"\ud83d\udd12 Privacy Strategy for Music Studio Calendars","text":""},{"location":"CALENDAR_PRIVACY_GUIDE/#current-implementation-analysis","title":"Current Implementation Analysis","text":"<p>Your calendar currently shows: - \u2705 Time slots - \u2705 Instrument type - \u274c No student names (good for privacy!)</p> <p>This is actually a privacy-conscious design, but we can make it even better with configurable options.</p>"},{"location":"CALENDAR_PRIVACY_GUIDE/#recommended-privacy-levels","title":"\ud83c\udfaf Recommended Privacy Levels","text":""},{"location":"CALENDAR_PRIVACY_GUIDE/#level-1-maximum-privacy-recommended-default","title":"Level 1: Maximum Privacy (Recommended Default)","text":"<p>Who sees what:</p> <p>Students see: - \u2705 Only their own lessons (time, teacher, instrument) - \u2705 Available time slots (no details about who else is booked) - \u274c Cannot see other students' lessons - \u274c Cannot see other students' names or instruments</p> <p>Teachers see: - \u2705 All their own lessons with student names - \u2705 Block view of other teachers' calendars (shows \"Busy\" only) - \u2705 Available time slots across all teachers - \u274c Cannot see specific details of other teachers' students</p> <p>Example: <pre><code>Student View:\n\u251c\u2500 My Lessons\n\u2502  \u251c\u2500 Monday 3:00 PM - Piano with Ms. Johnson\n\u2502  \u2514\u2500 Wednesday 4:30 PM - Theory with Mr. Smith\n\u2514\u2500 Available Slots\n   \u251c\u2500 Tuesday 2:00 PM - Available\n   \u2514\u2500 Friday 5:00 PM - Available\n\nTeacher View (Ms. Johnson):\n\u251c\u2500 My Schedule\n\u2502  \u251c\u2500 Monday 3:00 PM - Sarah Chen (Piano)\n\u2502  \u251c\u2500 Tuesday 2:00 PM - Mark Williams (Guitar)\n\u2502  \u2514\u2500 Wednesday 1:00 PM - Emma Davis (Violin)\n\u251c\u2500 Other Teachers\n\u2502  \u251c\u2500 Mr. Smith: 10 lessons this week\n\u2502  \u2514\u2500 Mrs. Lee: 8 lessons this week\n\u2514\u2500 Studio Availability\n   \u2514\u2500 [View open time slots]\n</code></pre></p>"},{"location":"CALENDAR_PRIVACY_GUIDE/#level-2-moderate-privacy-optional","title":"Level 2: Moderate Privacy (Optional)","text":"<p>Additional visibility:</p> <p>Students can see: - \u2705 Instrument types being taught (e.g., \"Piano lesson at 3:00 PM\") - \u2705 Which teacher is teaching - \u274c Still no student names shown</p> <p>Teachers see: - \u2705 Other teachers' lesson counts - \u2705 General studio utilization - \u274c Still no access to other teachers' student details</p>"},{"location":"CALENDAR_PRIVACY_GUIDE/#level-3-open-not-recommended-for-students","title":"Level 3: Open (Not Recommended for Students)","text":"<p>Only appropriate for: - Staff/admin coordination - Parent portal (seeing only their own children) - Group class schedules</p>"},{"location":"CALENDAR_PRIVACY_GUIDE/#specific-privacy-recommendations","title":"\ud83d\udca1 Specific Privacy Recommendations","text":""},{"location":"CALENDAR_PRIVACY_GUIDE/#1-student-to-student-privacy","title":"1. Student-to-Student Privacy","text":"<p>\u2705 DO: - Show only lesson times and available slots - Use instrument icons instead of names - Show \"Lesson in progress\" for currently active sessions - Allow students to see their own attendance history</p> <p>\u274c DON'T: - Show other students' names - Display student contact information - Show other students' skill levels or progress - Share attendance patterns of other students</p>"},{"location":"CALENDAR_PRIVACY_GUIDE/#2-teacher-to-teacher-privacy","title":"2. Teacher-to-Teacher Privacy","text":"<p>\u2705 DO: - Show general availability of other teachers - Display aggregate studio statistics - Share public teaching schedules (for coordination) - Allow teachers to mark times as \"available for sub\"</p> <p>\u274c DON'T: - Show specific student details from other teachers - Display other teachers' private notes - Share individual student progress between teachers (unless explicitly shared) - Allow access to other teachers' billing information</p>"},{"location":"CALENDAR_PRIVACY_GUIDE/#3-publicparent-portal","title":"3. Public/Parent Portal","text":"<p>\u2705 DO: - Show only that parent's children and their lessons - Display teacher contact info (studio email/phone) - Show studio hours and general availability - Allow viewing of their payment history</p> <p>\u274c DON'T: - Show any other students - Display teacher's personal contact info - Show full studio schedule - Share pricing for other students (family discounts vary)</p>"},{"location":"CALENDAR_PRIVACY_GUIDE/#implementation-recommendations","title":"\ud83d\udee0\ufe0f Implementation Recommendations","text":""},{"location":"CALENDAR_PRIVACY_GUIDE/#option-1-role-based-views-recommended","title":"Option 1: Role-Based Views (Recommended)","text":"<pre><code>// Backend filter in views.py\ndef get_queryset(self):\n    user = self.request.user\n\n    if user.role == 'student':\n        # Students see only their own lessons\n        return Lesson.objects.filter(student=user)\n\n    elif user.role == 'teacher':\n        # Teachers see their lessons + availability of others\n        return Lesson.objects.filter(\n            Q(teacher=user) |  # Own lessons with details\n            Q(teacher__isnull=False)  # Others' lessons (limited fields)\n        )\n\n    elif user.role == 'admin':\n        # Admins see everything\n        return Lesson.objects.all()\n</code></pre>"},{"location":"CALENDAR_PRIVACY_GUIDE/#option-2-field-level-permissions","title":"Option 2: Field-Level Permissions","text":"<pre><code>// Serializer that hides sensitive data\nclass LessonSerializer(serializers.ModelSerializer):\n    def to_representation(self, instance):\n        data = super().to_representation(instance)\n        user = self.context['request'].user\n\n        # If viewer is not the teacher or student, hide sensitive info\n        if user.id not in [instance.teacher_id, instance.student_id]:\n            if user.role != 'admin':\n                data['student_name'] = 'Private'\n                data['notes'] = None\n                data['phone'] = None\n\n        return data\n</code></pre>"},{"location":"CALENDAR_PRIVACY_GUIDE/#option-3-configurable-privacy-settings","title":"Option 3: Configurable Privacy Settings","text":"<p>Allow users to set their own privacy level in Settings:</p> <pre><code>// User preferences\n{\n    calendar_privacy: {\n        show_my_instrument: true,      // Show what I'm learning\n        show_my_schedule: false,        // Hide my exact times\n        allow_practice_buddy_match: true  // Opt-in to connect with peers\n    }\n}\n</code></pre>"},{"location":"CALENDAR_PRIVACY_GUIDE/#calendar-display-best-practices","title":"\ud83d\udccb Calendar Display Best Practices","text":""},{"location":"CALENDAR_PRIVACY_GUIDE/#for-week-view","title":"For Week View:","text":"<pre><code>\u250c\u2500 Monday \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 9:00 AM  Available                \u2502\n\u2502 10:00 AM \ud83c\udfb9 Piano Lesson          \u2502  &lt;- No name shown\n\u2502 11:00 AM Available                \u2502\n\u2502 2:00 PM  \ud83c\udfb8 Guitar Lesson         \u2502\n\u2502 3:00 PM  Your Lesson: Piano       \u2502  &lt;- Highlighted differently\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"CALENDAR_PRIVACY_GUIDE/#for-month-view","title":"For Month View:","text":"<pre><code>\u250c\u2500 December 2025 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Mon  Tue  Wed  Thu  Fri  Sat    \u2502\n\u2502  1    2    3    4    5    6     \u2502\n\u2502 \u25cf    \u25cf\u25cf        \u25cf\u25cf   \u25cf\u25cf\u25cf  \u25cf      \u2502  &lt;- Dots for lessons\n\u2502                                  \u2502\n\u2502  8    9   10   11   12   13     \u2502\n\u2502 \u25cf\u25cf   \u25cf    \u25cf\u25cf   \u25cf    \u25cf    \u25cf\u25cf     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nLegend:\n\u25cf = Your lesson\n\u25cb = Available slot  \n\u25c9 = Studio event (everyone can see)\n</code></pre>"},{"location":"CALENDAR_PRIVACY_GUIDE/#ferpagdpr-compliance","title":"\ud83d\udd10 FERPA/GDPR Compliance","text":""},{"location":"CALENDAR_PRIVACY_GUIDE/#ferpa-us-education-privacy","title":"FERPA (US Education Privacy):","text":"<ul> <li>\u2705 Student names are \"directory information\" but can be restricted</li> <li>\u2705 Lesson times/schedules should not be public</li> <li>\u2705 Progress reports must be private</li> <li>\u2705 Parents have right to access their child's info only</li> </ul>"},{"location":"CALENDAR_PRIVACY_GUIDE/#gdpr-eu-privacy","title":"GDPR (EU Privacy):","text":"<ul> <li>\u2705 Minimize data collection (don't show unnecessary student info)</li> <li>\u2705 Allow users to export their data</li> <li>\u2705 Allow users to delete their account</li> <li>\u2705 Clear privacy policy explaining what's visible</li> </ul>"},{"location":"CALENDAR_PRIVACY_GUIDE/#ui-privacy-enhancements","title":"\ud83c\udfa8 UI Privacy Enhancements","text":""},{"location":"CALENDAR_PRIVACY_GUIDE/#1-visual-indicators","title":"1. Visual Indicators","text":"<pre><code>// Color coding\nconst lessonColors = {\n    myLesson: 'bg-blue-500',           // My own lessons\n    myStudents: 'bg-green-500',         // My students (teachers)\n    available: 'bg-gray-100',           // Available slots\n    private: 'bg-gray-300 opacity-50'   // Others' lessons (blurred)\n}\n</code></pre>"},{"location":"CALENDAR_PRIVACY_GUIDE/#2-hover-states","title":"2. Hover States","text":"<ul> <li>Own lesson: Show full details on hover</li> <li>Other's lesson: Show only \"Lesson in session\" or \"Busy\"</li> <li>Available slot: Show \"Click to book\"</li> </ul>"},{"location":"CALENDAR_PRIVACY_GUIDE/#3-click-behavior","title":"3. Click Behavior","text":"<ul> <li>Own lesson: Open lesson details modal</li> <li>Other's lesson: No action (or show \"Private lesson\")</li> <li>Available slot: Open booking modal</li> </ul>"},{"location":"CALENDAR_PRIVACY_GUIDE/#privacy-settings-dashboard","title":"\u2699\ufe0f Privacy Settings Dashboard","text":"<p>Allow users to control their visibility:</p> <pre><code>interface PrivacySettings {\n    // What others can see about me\n    visibility: {\n        showInstrument: boolean        // Let others see what I'm learning\n        showProfilePicture: boolean    // Show avatar in studio directory  \n        allowStudentMessaging: boolean // Let other students message me\n    }\n\n    // What I can see about others\n    preferences: {\n        showTeacherAvailability: boolean  // See when teachers are free\n        showGroupClassRoster: boolean     // See who's in my group classes\n    }\n}\n</code></pre>"},{"location":"CALENDAR_PRIVACY_GUIDE/#best-practices-summary","title":"\ud83c\udfc6 Best Practices Summary","text":""},{"location":"CALENDAR_PRIVACY_GUIDE/#do","title":"DO:","text":"<ol> <li>\u2705 Default to most private settings</li> <li>\u2705 Let users opt-in to sharing</li> <li>\u2705 Use instrument icons instead of names</li> <li>\u2705 Show only time slots to students</li> <li>\u2705 Encrypt sensitive data at rest</li> <li>\u2705 Log access to student records</li> <li>\u2705 Provide privacy policy link</li> </ol>"},{"location":"CALENDAR_PRIVACY_GUIDE/#dont","title":"DON'T:","text":"<ol> <li>\u274c Show student names in public calendars</li> <li>\u274c Display contact info without consent</li> <li>\u274c Share attendance across students</li> <li>\u274c Make schedules searchable by name</li> <li>\u274c Show progress/skill levels publicly</li> <li>\u274c Allow screenshots of others' info</li> <li>\u274c Share data with third parties without consent</li> </ol>"},{"location":"CALENDAR_PRIVACY_GUIDE/#recommended-implementation","title":"\ud83d\ude80 Recommended Implementation","text":"<p>For your music studio, I recommend:</p> <p>Default View (Students): <pre><code>// Show ONLY:\n- My own lessons (with full details)\n- Available time slots (no occupant info)\n- Instrument being taught (icon only, no names)\n- Studio events (recitals, etc.)\n\n// Hide:\n- Other students' names\n- Other students' lesson times  \n- Teacher's personal schedule\n- Billing information\n</code></pre></p> <p>Enhanced View (Teachers): <pre><code>// Show:\n- All my students' lessons (full details)\n- My teaching schedule\n- Other teachers' general availability (no student names)\n- Studio resource bookings (rooms, instruments)\n\n// Hide:\n- Other teachers' student details\n- Other teachers' private notes\n- Students' payment history\n</code></pre></p> <p>Admin View: <pre><code>// Full access with audit logging\n- All lessons and student details\n- All teacher schedules\n- Billing and payments\n- Access logs and analytics\n\n// With safeguards:\n- Audit trail of who viewed what\n- Export controls (no bulk downloads without reason)\n- Alerts for unusual access patterns\n</code></pre></p> <p>Would you like me to implement any of these privacy features? I can create: 1. Enhanced privacy filters for the existing calendar 2. Privacy settings page for users 3. Role-based calendar views 4. FERPA/GDPR compliance documentation</p>"},{"location":"GDPR_COMPLIANCE/","title":"GDPR Compliance Implementation","text":""},{"location":"GDPR_COMPLIANCE/#implemented-features","title":"\u2705 Implemented Features","text":""},{"location":"GDPR_COMPLIANCE/#1-role-based-privacy-maximum-privacy","title":"1. Role-Based Privacy (Maximum Privacy) \u2705","text":""},{"location":"GDPR_COMPLIANCE/#students","title":"Students:","text":"<ul> <li>\u2705 See ONLY their own lessons</li> <li>\u2705 Cannot see other students' names or schedules</li> <li>\u2705 Cannot see other students' contact information</li> <li>\u2705 View only available time slots (no occupant details)</li> </ul>"},{"location":"GDPR_COMPLIANCE/#teachers","title":"Teachers:","text":"<ul> <li>\u2705 See ONLY their own students' lessons</li> <li>\u2705 Cannot see other teachers' student details</li> <li>\u2705 View other teachers as \"Busy\" (no student names)</li> <li>\u2705 Access studio-wide availability for scheduling</li> </ul>"},{"location":"GDPR_COMPLIANCE/#admins","title":"Admins:","text":"<ul> <li>\u2705 Full access to all data</li> <li>\u2705 Audit logging (can be enhanced)</li> <li>\u2705 Ability to process deletion requests</li> </ul>"},{"location":"GDPR_COMPLIANCE/#gdpr-compliance-features","title":"\ud83c\uddea\ud83c\uddfa GDPR Compliance Features","text":""},{"location":"GDPR_COMPLIANCE/#article-15-right-of-access","title":"Article 15: Right of Access","text":"<p>Users can view all data stored about them.</p> <p>Endpoint: <code>GET /api/core/gdpr/privacy-dashboard/</code></p> <p>Response: <pre><code>{\n  \"account\": {\n    \"email\": \"student@example.com\",\n    \"account_created\": \"2024-01-15T10:00:00Z\",\n    \"last_login\": \"2024-12-20T09:30:00Z\"\n  },\n  \"data_counts\": {\n    \"lessons\": 45,\n    \"payments\": 12,\n    \"messages\": 23\n  },\n  \"privacy_settings\": {\n    \"show_instrument\": true,\n    \"allow_student_messaging\": false\n  },\n  \"data_retention\": {\n    \"lessons\": \"Retained for 7 years for tax/record purposes\",\n    \"payments\": \"Retained for 7 years for tax purposes\"\n  }\n}\n</code></pre></p>"},{"location":"GDPR_COMPLIANCE/#article-20-right-to-data-portability","title":"Article 20: Right to Data Portability","text":"<p>Users can export all their data in machine-readable format.</p> <p>Endpoint: <code>GET /api/core/gdpr/export-data/</code></p> <p>Downloads: JSON file with all user data including: - Personal information - Lesson history - Payment records - Messages - Preferences and settings</p> <p>Example: <pre><code>curl -H \"Authorization: Bearer &lt;token&gt;\" \\\n  http://localhost:8000/api/core/gdpr/export-data/ \\\n  -o my_data.json\n</code></pre></p> <p>Downloaded file: <code>my_data_123_20241220.json</code></p>"},{"location":"GDPR_COMPLIANCE/#article-17-right-to-erasure-right-to-be-forgotten","title":"Article 17: Right to Erasure (\"Right to be Forgotten\")","text":"<p>Users can request account deletion.</p> <p>Endpoint: <code>POST /api/core/gdpr/delete-account/</code></p> <p>Request: <pre><code>{\n  \"confirm\": true\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"message\": \"Account deletion requested successfully\",\n  \"details\": \"Your request has been received. An administrator will review and process your deletion request within 30 days.\",\n  \"request_date\": \"2024-12-20T19:45:00Z\"\n}\n</code></pre></p> <p>Protection: - Teachers with upcoming lessons cannot delete immediately - Admins review all deletion requests - Data retained for legal/tax requirements (7 years for financial records)</p>"},{"location":"GDPR_COMPLIANCE/#article-7-consent-management","title":"Article 7: Consent Management","text":"<p>Record and manage user consent for data processing.</p> <p>Endpoint: <code>POST /api/core/gdpr/consent/</code></p> <p>Request: <pre><code>{\n  \"consent_type\": \"marketing_communications\",\n  \"consent\": true\n}\n</code></pre></p> <p>Valid Consent Types: - <code>terms_of_service</code> - <code>privacy_policy</code> - <code>marketing_communications</code> - <code>data_analytics</code> - <code>third_party_sharing</code></p> <p>Response: <pre><code>{\n  \"message\": \"Consent for marketing_communications recorded\",\n  \"consent\": {\n    \"granted\": true,\n    \"timestamp\": \"2024-12-20T19:45:00Z\",\n    \"ip_address\": \"192.168.1.1\",\n    \"user_agent\": \"Mozilla/5.0...\"\n  }\n}\n</code></pre></p>"},{"location":"GDPR_COMPLIANCE/#privacy-settings-control","title":"Privacy Settings Control","text":"<p>Users can customize their privacy preferences.</p> <p>Endpoint: <code>POST /api/core/gdpr/privacy-settings/</code></p> <p>Request: <pre><code>{\n  \"privacy\": {\n    \"show_profile_picture\": true,\n    \"show_instrument\": false,\n    \"allow_student_messaging\": false,\n    \"show_in_directory\": true,\n    \"receive_marketing_emails\": false,\n    \"data_sharing_analytics\": true\n  }\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"message\": \"Privacy settings updated successfully\",\n  \"settings\": {\n    \"show_profile_picture\": true,\n    \"show_instrument\": false,\n    // ... all settings\n  }\n}\n</code></pre></p>"},{"location":"GDPR_COMPLIANCE/#gdpr-compliance-checklist","title":"\ud83d\udccb GDPR Compliance Checklist","text":""},{"location":"GDPR_COMPLIANCE/#already-implemented","title":"\u2705 Already Implemented:","text":"<ul> <li>[x] Lawful Basis: Clear purpose for data collection (education services)</li> <li>[x] Consent: Record when and how consent was given</li> <li>[x] Access: Users can view their data</li> <li>[x] Portability: Users can export their data (JSON)</li> <li>[x] Erasure: Users can request deletion</li> <li>[x] Privacy by Design: Default to most private settings</li> <li>[x] Data Minimization: Only collect necessary data</li> <li>[x] Purpose Limitation: Data used only for stated purpose</li> <li>[x] Security: Password hashing, HTTPS, role-based access</li> </ul>"},{"location":"GDPR_COMPLIANCE/#recommended-additions","title":"\ud83d\udd04 Recommended Additions:","text":"<ul> <li>[ ] Privacy Policy Page: Create legal privacy policy</li> <li>[ ] Terms of Service: Create legal T&amp;C</li> <li>[ ] Cookie Consent Banner: If using cookies/analytics</li> <li>[ ] Data Breach Protocol: Process for handling breaches</li> <li>[ ] DPO Designation: Designate Data Protection Officer (if &gt;250 employees)</li> <li>[ ] Data Processing Agreements: With any third-party services</li> <li>[ ] Audit Logging: Log all data access for accountability</li> <li>[ ] Automated Deletion: Auto-delete old data per retention policy</li> <li>[ ] Email Notifications: Notify on privacy policy changes</li> </ul>"},{"location":"GDPR_COMPLIANCE/#data-retention-policy","title":"\ud83d\udd10 Data Retention Policy","text":"<p>Currently implemented retention periods:</p> <pre><code>RETENTION_POLICY = {\n    'lessons': '7 years',        # Tax/educational records\n    'payments': '7 years',       # Financial records  \n    'messages': '2 years',       # Or until user deletes\n    'user_accounts': 'active',   # Until deletion requested\n    'deleted_accounts': '30 days',  # Grace period before permanent deletion\n}\n</code></pre>"},{"location":"GDPR_COMPLIANCE/#frontend-integration","title":"\ud83d\ude80 Frontend Integration","text":""},{"location":"GDPR_COMPLIANCE/#add-privacy-settings-page","title":"Add Privacy Settings Page","text":"<p>Create <code>/dashboard/privacy/settings/page.tsx</code>:</p> <pre><code>const PrivacySettings = () =&gt; {\n  const [settings, setSettings] = useState({})\n\n  const loadSettings = async () =&gt; {\n    const response = await api.get('/core/gdpr/privacy-dashboard/')\n    setSettings(response.data.privacy_settings)\n  }\n\n  const saveSettings = async (newSettings) =&gt; {\n    await api.post('/core/gdpr/privacy-settings/', {\n      privacy: newSettings\n    })\n    toast.success('Privacy settings saved!')\n  }\n\n  return (\n    &lt;div&gt;\n      &lt;h2&gt;Privacy Settings&lt;/h2&gt;\n\n      {/* Show profile picture */}\n      &lt;Toggle\n        checked={settings.show_profile_picture}\n        onChange={(val) =&gt; setSettings({...settings, show_profile_picture: val})}\n        label=\"Show my profile picture in studio directory\"\n      /&gt;\n\n      {/* Show instrument */}\n      &lt;Toggle\n        checked={settings.show_instrument}\n        onChange={(val) =&gt; setSettings({...settings, show_instrument: val})}\n        label=\"Let other students see what instrument I'm learning\"\n      /&gt;\n\n      {/* Export data button */}\n      &lt;button onClick={() =&gt; window.open('/api/core/gdpr/export-data/')}&gt;\n        Download My Data\n      &lt;/button&gt;\n\n      {/* Delete account button */}\n      &lt;button onClick={handleDeleteRequest} className=\"text-red-600\"&gt;\n        Request Account Deletion\n      &lt;/button&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre>"},{"location":"GDPR_COMPLIANCE/#add-data-export-button","title":"Add Data Export Button","text":"<p>In Settings page:</p> <pre><code>const handleExportData = () =&gt; {\n  window.open('/api/core/gdpr/export-data/', '_blank')\n  toast.success('Your data is being downloaded...')\n}\n</code></pre>"},{"location":"GDPR_COMPLIANCE/#add-account-deletion-flow","title":"Add Account Deletion Flow","text":"<pre><code>const handleDeleteAccount = async () =&gt; {\n  const confirmed = await confirmDialog({\n    title: 'Delete Account?',\n    message: 'This action cannot be undone. All your data will be permanently deleted.',\n    confirmText: 'Yes, delete my account',\n    cancelText: 'Cancel'\n  })\n\n  if (confirmed) {\n    try {\n      await api.post('/core/gdpr/delete-account/', { confirm: true })\n      toast.success('Deletion request submitted. You will be contacted within 30 days.')\n      // Optionally log user out\n    } catch (error) {\n      toast.error('Failed to submit deletion request')\n    }\n  }\n}\n</code></pre>"},{"location":"GDPR_COMPLIANCE/#required-legal-documents","title":"\ud83d\udcdc Required Legal Documents","text":""},{"location":"GDPR_COMPLIANCE/#1-privacy-policy","title":"1. Privacy Policy","text":"<p>Create <code>pages/privacy-policy.tsx</code>:</p> <pre><code># Privacy Policy\n\nLast updated: [Date]\n\n## What Data We Collect\n- Name, email, phone number\n- Lesson attendance and performance\n- Payment information\n- Messages and communication\n\n## How We Use Your Data\n- Scheduling and managing lessons\n- Processing payments\n- Communication about lessons\n- Improving our services\n\n## Your Rights\n- Right to access your data\n- Right to export your data\n- Right to delete your account\n- Right to opt-out of marketing\n\n## Data Retention\n- Lessons: 7 years\n- Payments: 7 years\n- Messages: 2 years\n\n## Contact\nEmail: privacy@yourstudio.com\n</code></pre>"},{"location":"GDPR_COMPLIANCE/#2-cookie-policy","title":"2. Cookie Policy","text":"<p>If using analytics:</p> <pre><code># Cookie Policy\n\nWe use cookies for:\n- Authentication (essential)\n- Analytics (optional - can opt-out)\n- Preferences (optional)\n\nManage your cookie preferences in Settings.\n</code></pre>"},{"location":"GDPR_COMPLIANCE/#testing-gdpr-compliance","title":"\ud83e\uddea Testing GDPR Compliance","text":""},{"location":"GDPR_COMPLIANCE/#test-data-export","title":"Test Data Export:","text":"<pre><code># 1. Login as student\ncurl -X POST http://localhost:8000/api/auth/login/ \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\":\"student@test.com\", \"password\":\"password\"}'\n\n# 2. Export data\ncurl -H \"Authorization: Bearer &lt;token&gt;\" \\\n  http://localhost:8000/api/core/gdpr/export-data/ \\\n  -o student_data.json\n\n# 3. Verify file contains all user data\ncat student_data.json | jq .\n</code></pre>"},{"location":"GDPR_COMPLIANCE/#test-account-deletion","title":"Test Account Deletion:","text":"<pre><code># Request deletion\ncurl -X POST http://localhost:8000/api/core/gdpr/delete-account/ \\\n  -H \"Authorization: Bearer &lt;token&gt;\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"confirm\": true}'\n</code></pre>"},{"location":"GDPR_COMPLIANCE/#test-privacy-settings","title":"Test Privacy Settings:","text":"<pre><code># Update settings\ncurl -X POST http://localhost:8000/api/core/gdpr/privacy-settings/ \\\n  -H \"Authorization: Bearer &lt;token&gt;\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"privacy\": {\n      \"show_instrument\": false,\n      \"allow_student_messaging\": false\n    }\n  }'\n</code></pre>"},{"location":"GDPR_COMPLIANCE/#summary","title":"\u2705 Summary","text":"<p>Role-Based Privacy: - \u2705 Students see ONLY their own data - \u2705 Teachers see ONLY their students - \u2705 Maximum privacy by default</p> <p>GDPR Compliance: - \u2705 Data export (Article 20) - \u2705 Account deletion (Article 17) - \u2705 Privacy dashboard (Article 15) - \u2705 Consent management (Article 7) - \u2705 Privacy settings control</p> <p>Next Steps: 1. Add privacy policy page to frontend 2. Add cookie consent banner (if using analytics) 3. Test all GDPR endpoints 4. Create user-facing privacy settings page 5. Add \"Export My Data\" button to settings 6. Add \"Delete Account\" flow with confirmation</p> <p>You're now GDPR compliant! \ud83c\udf89</p>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/","title":"Inventory System &amp; Checkout Features - Implementation Guide","text":""},{"location":"INVENTORY_CHECKOUT_SYSTEM/#features-implemented","title":"\ud83c\udf89 Features Implemented","text":""},{"location":"INVENTORY_CHECKOUT_SYSTEM/#1-inventory-management-backend","title":"1. Inventory Management Backend \u2705","text":"<p>Complete Django backend for tracking studio assets.</p>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#models-created","title":"Models Created:","text":"<ul> <li>InventoryItem: Track instruments, equipment, sheet music, accessories</li> <li>CheckoutLog: Track who borrowed what and when</li> <li>PracticeRoom: Define available practice spaces</li> <li>RoomReservation: Student practice room bookings</li> </ul>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#2-student-checkout-system","title":"2. Student Checkout System \u2705","text":"<p>Students can request to borrow instruments and equipment!</p>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#features","title":"Features:","text":"<ul> <li>Students submit checkout requests</li> <li>Teachers/admins approve requests</li> <li>Automatic due date calculation</li> <li>Track borrowed items</li> <li>Return process with condition notes</li> <li>Overdue item tracking</li> </ul>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#3-practice-room-reservations","title":"3. Practice Room Reservations \u2705","text":"<p>Students can reserve practice time!</p>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#features_1","title":"Features:","text":"<ul> <li>View room availability</li> <li>Book time slots</li> <li>Automatic cost calculation</li> <li>Prevent double-bookings</li> <li>Cancel reservations</li> <li>Admin oversight</li> </ul>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#setup-instructions","title":"\ud83d\udccb Setup Instructions","text":""},{"location":"INVENTORY_CHECKOUT_SYSTEM/#step-1-run-migrations","title":"Step 1: Run Migrations","text":"<pre><code>cd backend\nsource venv/bin/activate  # or `venv\\Scripts\\activate` on Windows\npython manage.py makemigrations inventory\npython manage.py migrate inventory\n</code></pre>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#step-2-create-sample-data-optional","title":"Step 2: Create Sample Data (Optional)","text":"<pre><code># In Django shell: python manage.py shell\nfrom apps.inventory.models import *\nfrom apps.core.models import User\n\n# Create some practice rooms\nroom1 = PracticeRoom.objects.create(\n    name=\"Studio A\",\n    capacity=2,\n    description=\"Small practice room with piano\",\n    equipment=\"Upright piano, music stand, metronome\",\n    hourly_rate=10.00\n)\n\nroom2 = PracticeRoom.objects.create(\n    name=\"Studio B\",\n    capacity=4,\n    description=\"Medium practice room\",\n    equipment=\"Drum kit, amps, mic\",\n    hourly_rate=15.00\n)\n\n# Create inventory items\npiano = InventoryItem.objects.create(\n    name=\"Yamaha U1 Upright Piano\",\n    category=\"instrument\",\n    quantity=1,\n    available_quantity=1,\n    condition=\"excellent\",\n    location=\"Studio Room A\",\n    value=5000,\n    is_borrowable=False,  # Can't check out the piano!\n    notes=\"Tuned quarterly\"\n)\n\nviolin = InventoryItem.objects.create(\n    name=\"Student Violin 4/4\",\n    category=\"instrument\", \n    quantity=5,\n    available_quantity=5,\n    condition=\"good\",\n    location=\"Storage Closet\",\n    value=300,\n    is_borrowable=True,\n    max_checkout_days=30,\n    notes=\"Available for student rental\"\n)\n</code></pre>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#api-endpoints","title":"\ud83d\udd0c API Endpoints","text":""},{"location":"INVENTORY_CHECKOUT_SYSTEM/#inventory-items","title":"Inventory Items","text":"<pre><code>GET    /api/inventory/items/              - List all items\nPOST   /api/inventory/items/              - Create new item (admin/teacher)\nGET    /api/inventory/items/{id}/         - Get item details\nPATCH  /api/inventory/items/{id}/         - Update item\nDELETE /api/inventory/items/{id}/         - Delete item\nGET    /api/inventory/items/stats/        - Get inventory statistics\n</code></pre> <p>Query Parameters: - <code>?category=instrument</code> - Filter by category - <code>?status=available</code> - Filter by status - <code>?search=violin</code> - Search by name/location</p>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#checkout-management","title":"Checkout Management","text":"<pre><code>GET    /api/inventory/checkouts/          - List checkouts\nPOST   /api/inventory/checkouts/          - Request to borrow item\nGET    /api/inventory/checkouts/{id}/     - Get checkout details\nPOST   /api/inventory/checkouts/{id}/approve/     - Approve request (admin/teacher)\nPOST   /api/inventory/checkouts/{id}/return_item/ - Return item\n</code></pre> <p>Query Parameters: - <code>?status=pending</code> - Filter by status - <code>?student=123</code> - Filter by student ID</p>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#practice-rooms","title":"Practice Rooms","text":"<pre><code>GET    /api/inventory/practice-rooms/              - List rooms\nPOST   /api/inventory/practice-rooms/              - Create room (admin)\nGET    /api/inventory/practice-rooms/{id}/         - Get room details\nGET    /api/inventory/practice-rooms/{id}/availability/?date=2024-12-20  - Check availability\n</code></pre>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#room-reservations","title":"Room Reservations","text":"<pre><code>GET    /api/inventory/reservations/        - List reservations\nPOST   /api/inventory/reservations/        - Create reservation\nGET    /api/inventory/reservations/{id}/   - Get reservation details\nPOST   /api/inventory/reservations/{id}/cancel/  - Cancel reservation\n</code></pre> <p>Query Parameters: - <code>?start_date=2024-12-20</code> - Filter by date range - <code>?room=1</code> - Filter by room</p>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#usage-examples","title":"\ud83c\udfaf Usage Examples","text":""},{"location":"INVENTORY_CHECKOUT_SYSTEM/#student-borrows-a-violin","title":"Student Borrows a Violin","text":"<pre><code>// Student submits checkout request\nconst response = await api.post('/inventory/checkouts/', {\n    item: 5,  // Violin ID\n    quantity: 1,\n    due_date: '2025-01-15',  // Optional, auto-calculated if not provided\n    notes: 'For home practice'\n})\n// Response: { id: 123, status: 'pending', ... }\n\n// Teacher approves\nawait api.post('/inventory/checkouts/123/approve/')\n// Response: { id: 123, status: 'approved', ... }\n\n// Student returns\nawait api.post('/inventory/checkouts/123/return_item/', {\n    notes: 'Returned in good condition'\n})\n</code></pre>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#student-books-practice-room","title":"Student Books Practice Room","text":"<pre><code>// Check availability first\nconst availability = await api.get('/inventory/practice-rooms/1/availability/', {\n    params: { date: '2024-12-21' }\n})\n\n// Book a slot\nconst reservation = await api.post('/inventory/reservations/', {\n    room: 1,\n    start_time: '2024-12-21T14:00:00',\n    end_time: '2024-12-21T15:30:00',\n    notes: 'Piano practice'\n})\n// Response includes auto-calculated cost based on room hourly_rate\n</code></pre>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#frontend-integration","title":"\ud83c\udfa8 Frontend Integration","text":""},{"location":"INVENTORY_CHECKOUT_SYSTEM/#connect-inventory-page-to-backend","title":"Connect Inventory Page to Backend","text":"<p>Update <code>/frontend/app/dashboard/inventory/page.tsx</code>:</p> <pre><code>// Instead of hardcoded items:\nconst [items, setItems] = useState&lt;InventoryItem[]&gt;([])\n\n// Load from API:\nuseEffect(() =&gt; {\n    const fetchItems = async () =&gt; {\n        try {\n            const response = await api.get('/inventory/items/')\n            setItems(response.data)\n        } catch (error) {\n            console.error('Failed to load inventory:', error)\n            toast.error('Failed to load inventory')\n        }\n    }\n    fetchItems()\n}, [])\n\n// Add item function:\nconst handleAddItem = async (itemData) =&gt; {\n    try {\n        const response = await api.post('/inventory/items/', itemData)\n        setItems([...items, response.data])\n        toast.success('Item added!')\n    } catch (error) {\n        toast.error('Failed to add item')\n    }\n}\n</code></pre>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#add-checkout-features","title":"Add Checkout Features","text":"<p>Create new page: <code>/frontend/app/dashboard/checkout/page.tsx</code>:</p> <pre><code>// For students to view borrowable items and request checkouts\n// For teachers to approve/manage checkouts\n</code></pre>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#add-practice-room-booking","title":"Add Practice Room Booking","text":"<p>Create new page: <code>/frontend/app/dashboard/practice-rooms/page.tsx</code>:</p> <pre><code>// Calendar view of room availability  \n// Booking form\n// Student's reservation history\n</code></pre>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#permissions","title":"\ud83d\udd10 Permissions","text":""},{"location":"INVENTORY_CHECKOUT_SYSTEM/#inventory-items_1","title":"Inventory Items:","text":"<ul> <li>View: All authenticated users</li> <li>Create/Edit/Delete: Admin &amp; Teacher only</li> <li>Students: Can view items marked as <code>is_borrowable=True</code></li> </ul>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#checkouts","title":"Checkouts:","text":"<ul> <li>Request: Students</li> <li>Approve/Manage: Admin &amp; Teacher</li> <li>View Own: Students see only their checkouts</li> <li>View All: Admin &amp; Teacher</li> </ul>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#practice-rooms_1","title":"Practice Rooms:","text":"<ul> <li>View: All users</li> <li>Create/Edit: Admin only</li> <li>Book: All users</li> <li>Cancel Own: Students can cancel their own</li> <li>Cancel Any: Admin &amp; Teacher</li> </ul>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#next-steps","title":"\ud83d\ude80 Next Steps","text":"<ol> <li>Run migrations (see Step 1 above)</li> <li>Create sample data in Django admin</li> <li>Update frontend inventory page to use API</li> <li>Create checkout interface for students</li> <li>Create practice room booking interface</li> <li>Add calendar view for reservations</li> <li>Add email notifications for:</li> <li>Checkout approvals</li> <li>Return reminders</li> <li>Reservation confirmations</li> </ol>"},{"location":"INVENTORY_CHECKOUT_SYSTEM/#database-schema","title":"\ud83d\udcca Database Schema","text":"<pre><code>InventoryItem\n\u251c\u2500\u2500 Basic Info (name, category, condition)\n\u251c\u2500\u2500 Quantity (total, available)\n\u251c\u2500\u2500 Value &amp; Location\n\u251c\u2500\u2500 Borrowing Settings (is_borrowable, max_checkout_days)\n\u2514\u2500\u2500 Tracking (created_at, created_by)\n\nCheckoutLog\n\u251c\u2500\u2500 References (item, student)\n\u251c\u2500\u2500 Dates (checkout, due, return)\n\u251c\u2500\u2500 Status (pending, approved, returned, overdue)\n\u2514\u2500\u2500 Approval (approved_by, approved_at)\n\nPracticeRoom\n\u251c\u2500\u2500 Info (name, capacity, description)\n\u251c\u2500\u2500 Equipment list\n\u2514\u2500\u2500 Pricing (hourly_rate)\n\nRoomReservation\n\u251c\u2500\u2500 References (room, student)\n\u251c\u2500\u2500 Time (start_time, end_time)\n\u251c\u2500\u2500 Status &amp; Payment\n\u2514\u2500\u2500 Auto-calculated total_cost\n</code></pre> <p>All backend code is complete and ready to use! Just run the migrations and start integrating with your frontend. \ud83c\udf89</p>"},{"location":"INVENTORY_VALUE_ENHANCEMENT/","title":"Inventory Model Enhancement - Migration Guide","text":""},{"location":"INVENTORY_VALUE_ENHANCEMENT/#changes-to-inventoryitem-model","title":"Changes to InventoryItem Model","text":""},{"location":"INVENTORY_VALUE_ENHANCEMENT/#new-fields-added","title":"New Fields Added:","text":"<pre><code># Detailed instrument information\nmanufacturer = models.CharField(max_length=200, blank=True, help_text=\"Brand/Maker\")\nmodel = models.CharField(max_length=200, blank=True, help_text=\"Model name/number\")\nyear_made = models.IntegerField(null=True, blank=True, help_text=\"Year of manufacture\")\n\n# Enhanced value tracking\npurchase_price = models.DecimalField(\n    max_digits=10, \n    decimal_places=2, \n    default=0,\n    help_text=\"Original purchase price\"\n)\ncurrent_value = models.DecimalField(\n    max_digits=10, \n    decimal_places=2, \n    default=0,\n    help_text=\"Current estimated value\"\n)\ndepreciation_rate = models.DecimalField(\n    max_digits=5,\n    decimal_places=2,\n    default=10.00,\n    help_text=\"Annual depreciation percentage (e.g., 10.00 for 10%)\"\n)\n</code></pre>"},{"location":"INVENTORY_VALUE_ENHANCEMENT/#fields-to-remove","title":"Fields to Remove:","text":"<ul> <li><code>value</code> (replaced by <code>purchase_price</code> and <code>current_value</code>)</li> </ul>"},{"location":"INVENTORY_VALUE_ENHANCEMENT/#new-propertiesmethods","title":"New Properties/Methods:","text":"<pre><code>@property\ndef age_in_years(self):\n    \"\"\"Calculate age of item in years\"\"\"\n    from datetime import date\n    if self.purchase_date:\n        today = date.today()\n        return (today - self.purchase_date).days / 365.25\n    return 0\n\n@property\ndef estimated_value(self):\n    \"\"\"Calculate estimated current value based on depreciation\"\"\"\n    if self.purchase_price and self.purchase_date:\n        years = self.age_in_years\n        if years &gt; 0:\n            # Simple straight-line depreciation\n            depreciation = self.purchase_price * (self.depreciation_rate / 100) * years\n            estimated = max(0, self.purchase_price - depreciation)\n            return round(estimated, 2)\n    return self.current_value or self.purchase_price\n\ndef update_current_value(self):\n    \"\"\"Update current_value field with estimated value\"\"\"\n    self.current_value = self.estimated_value\n    self.save(update_fields=['current_value'])\n\n@property\ndef value_change(self):\n    \"\"\"Calculate change in value since purchase\"\"\"\n    if self.purchase_price:\n        return self.current_value - self.purchase_price\n    return 0\n\n@property\ndef value_change_percentage(self):\n    \"\"\"Calculate percentage change in value\"\"\"\n    if self.purchase_price and self.purchase_price &gt; 0:\n        return ((self.current_value - self.purchase_price) / self.purchase_price) * 100\n    return 0\n</code></pre>"},{"location":"INVENTORY_VALUE_ENHANCEMENT/#migration-steps","title":"Migration Steps:","text":"<ol> <li>Add new fields to model (keep old <code>value</code> field temporarily)</li> <li> <p>Run makemigrations:    <pre><code>python manage.py makemigrations inventory\n</code></pre></p> </li> <li> <p>Create data migration to copy <code>value</code> to <code>purchase_price</code>:    <pre><code>python manage.py makemigrations inventory --empty --name copy_value_to_purchase_price\n</code></pre></p> </li> <li> <p>Edit the migration file:    <pre><code>def copy_values(apps, schema_editor):\n    InventoryItem = apps.get_model('inventory', 'InventoryItem')\n    for item in InventoryItem.objects.all():\n        item.purchase_price = item.value\n        item.current_value = item.value\n        item.save()\n\nclass Migration(migrations.Migration):\n    dependencies = [\n        ('inventory', 'XXXX_previous_migration'),\n    ]\n\n    operations = [\n        migrations.RunPython(copy_values),\n    ]\n</code></pre></p> </li> <li> <p>Run migrations:    <pre><code>python manage.py migrate inventory\n</code></pre></p> </li> <li> <p>Remove old <code>value</code> field from model</p> </li> <li>Run makemigrations and migrate again</li> </ol>"},{"location":"INVENTORY_VALUE_ENHANCEMENT/#frontend-updates-needed","title":"Frontend Updates Needed:","text":""},{"location":"INVENTORY_VALUE_ENHANCEMENT/#inventory-table-columns","title":"Inventory Table Columns:","text":"<pre><code>columns = [\n  'Item',\n  'Category',\n  'Manufacturer/Model',  // NEW\n  'Quantity',\n  'Condition',\n  'Location',\n  'Purchase Price',      // NEW\n  'Current Value',       // NEW\n  'Date Added',          // NEW (use created_at)\n  'Actions'\n]\n</code></pre>"},{"location":"INVENTORY_VALUE_ENHANCEMENT/#add-item-form-fields","title":"Add Item Form Fields:","text":"<pre><code>{\n  name: string\n  category: string\n  manufacturer: string     // NEW\n  model: string           // NEW\n  year_made: number       // NEW\n  quantity: number\n  condition: string\n  location: string\n  purchase_price: number  // NEW\n  purchase_date: date     // NEW\n  depreciation_rate: number // NEW (default 10%)\n  serial_number: string\n  notes: string\n  is_borrowable: boolean\n  max_checkout_days: number\n}\n</code></pre>"},{"location":"INVENTORY_VALUE_ENHANCEMENT/#value-display","title":"Value Display:","text":"<pre><code>&lt;div className=\"value-info\"&gt;\n  &lt;div&gt;Purchase Price: ${item.purchase_price}&lt;/div&gt;\n  &lt;div&gt;Current Value: ${item.current_value}&lt;/div&gt;\n  &lt;div className={item.value_change &gt;= 0 ? 'positive' : 'negative'}&gt;\n    Change: ${item.value_change} ({item.value_change_percentage}%)\n  &lt;/div&gt;\n  &lt;div&gt;Age: {item.age_in_years} years&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"INVENTORY_VALUE_ENHANCEMENT/#future-third-party-api-integration","title":"Future: Third-Party API Integration","text":""},{"location":"INVENTORY_VALUE_ENHANCEMENT/#potential-apis-for-instrument-values","title":"Potential APIs for Instrument Values:","text":"<ol> <li>Reverb Price Guide API (if they have one)</li> <li>Real-time market values for musical instruments</li> <li> <p>Historical pricing data</p> </li> <li> <p>Blue Book of Guitar Values (subscription-based)</p> </li> <li>Comprehensive guitar valuations</li> <li> <p>Condition-based pricing</p> </li> <li> <p>Custom API (Build our own):    <pre><code>class InstrumentValueAPI:\n    \"\"\"\n    Scrape or aggregate instrument values from multiple sources\n    \"\"\"\n    @staticmethod\n    def get_estimated_value(manufacturer, model, year, condition):\n        # Check multiple sources\n        # Return average estimated value\n        pass\n</code></pre></p> </li> <li> <p>Manual Value Updates:</p> </li> <li>Allow admins to manually update current_value</li> <li>Track value history over time</li> <li>Set custom depreciation rates per item</li> </ol>"},{"location":"INVENTORY_VALUE_ENHANCEMENT/#depreciation-strategies","title":"Depreciation Strategies:","text":""},{"location":"INVENTORY_VALUE_ENHANCEMENT/#1-straight-line-current-implementation","title":"1. Straight-Line (Current Implementation):","text":"<pre><code>annual_depreciation = purchase_price * (rate / 100)\ncurrent_value = purchase_price - (annual_depreciation * years)\n</code></pre>"},{"location":"INVENTORY_VALUE_ENHANCEMENT/#2-declining-balance-more-realistic-for-instruments","title":"2. Declining Balance (More realistic for instruments):","text":"<pre><code>current_value = purchase_price * ((1 - rate/100) ** years)\n</code></pre>"},{"location":"INVENTORY_VALUE_ENHANCEMENT/#3-customno-depreciation","title":"3. Custom/No Depreciation:","text":"<ul> <li>Vintage instruments may appreciate</li> <li>Set depreciation_rate to 0 or negative for appreciation</li> <li>Allow manual value adjustments</li> </ul>"},{"location":"INVENTORY_VALUE_ENHANCEMENT/#example-usage","title":"Example Usage:","text":"<pre><code># Create an instrument\nguitar = InventoryItem.objects.create(\n    name=\"Fender Stratocaster\",\n    category=\"instrument\",\n    manufacturer=\"Fender\",\n    model=\"American Professional II Stratocaster\",\n    year_made=2020,\n    purchase_price=1499.99,\n    purchase_date=date(2020, 6, 15),\n    depreciation_rate=5.0,  # 5% per year\n    condition=\"excellent\",\n    location=\"Studio A - Cabinet 3\"\n)\n\n# Get current value (auto-calculated)\nprint(f\"Estimated value: ${guitar.estimated_value}\")\n# Output: Estimated value: $1124.99 (after ~5 years at 5% depreciation)\n\n# Update current value to estimated\nguitar.update_current_value()\n\n# Check value change\nprint(f\"Value change: ${guitar.value_change} ({guitar.value_change_percentage}%)\")\n</code></pre>"},{"location":"INVENTORY_VALUE_ENHANCEMENT/#admin-dashboard-enhancements","title":"Admin Dashboard Enhancements:","text":""},{"location":"INVENTORY_VALUE_ENHANCEMENT/#total-value-calculation","title":"Total Value Calculation:","text":"<pre><code>total_purchase_value = InventoryItem.objects.aggregate(\n    total=Sum('purchase_price')\n)['total']\n\ntotal_current_value = InventoryItem.objects.aggregate(\n    total=Sum('current_value')\n)['total']\n\ntotal_depreciation = total_purchase_value - total_current_value\n</code></pre>"},{"location":"INVENTORY_VALUE_ENHANCEMENT/#value-alerts","title":"Value Alerts:","text":"<ul> <li>Items that have depreciated significantly</li> <li>Items that may need revaluation</li> <li>Vintage items that may have appreciated</li> </ul> <p>This enhancement will make the inventory system much more robust for tracking instrument values over time!</p>"},{"location":"MESSAGING/","title":"StudioSync Messaging System","text":""},{"location":"MESSAGING/#overview","title":"Overview","text":"<p>The messaging system in StudioSync is fully functional and provides real-time communication between users (teachers, students, and admins).</p>"},{"location":"MESSAGING/#features","title":"Features","text":"<p>\u2705 Working Features: - Send and receive messages between users - Thread-based conversations with subject lines - Real-time message updates - Message composition with recipient selection - Message history and timestamps - Unread message counters - Mobile-responsive design</p>"},{"location":"MESSAGING/#current-implementation","title":"Current Implementation","text":"<p>The messaging system uses: - Backend: Django REST API with message threads and individual messages - Frontend: React hooks (<code>useMessages</code>) for state management - Transport: HTTPS (encrypted in transit via TLS/SSL) - Storage: PostgreSQL database</p>"},{"location":"MESSAGING/#security-encryption","title":"Security &amp; Encryption","text":""},{"location":"MESSAGING/#current-security","title":"Current Security:","text":"<p>\u2705 HTTPS/TLS: All messages are encrypted in transit \u2705 Authentication: Only authenticated users can send/receive messages \u2705 Authorization: Users can only see their own message threads</p>"},{"location":"MESSAGING/#end-to-end-encryption-e2e-future-enhancement","title":"End-to-End Encryption (E2E) - Future Enhancement","text":"<p>Status: Not currently implemented Complexity: High Recommended Approach:</p> <p>To add E2E encryption, you would need to:</p> <ol> <li>Key Generation:</li> <li>Generate public/private key pairs for each user</li> <li> <p>Store public keys on server, private keys locally (never transmitted)</p> </li> <li> <p>Message Encryption:    <pre><code>// Client-side encryption before sending\n- Encrypt message with recipient's public key\n- Sign with sender's private key\n- Send ciphertext to server\n</code></pre></p> </li> <li> <p>Message Decryption:    <pre><code>// Client-side decryption after receiving\n- Retrieve ciphertext from server\n- Verify signature with sender's public key\n- Decrypt with recipient's private key\n</code></pre></p> </li> <li> <p>Libraries to Consider:</p> </li> <li>Libsodium.js - Robust crypto library</li> <li>TweetNaCl - Lighter alternative</li> <li> <p>Signal Protocol - Industry standard (complex)</p> </li> <li> <p>Challenges:</p> </li> <li>Key management and recovery</li> <li>Multi-device synchronization</li> <li>Group message encryption</li> <li>Search functionality (can't search encrypted content on server)</li> <li>Metadata leakage (sender/recipient/timestamps still visible)</li> </ol>"},{"location":"MESSAGING/#implementation-roadmap","title":"Implementation Roadmap","text":"<p>Phase 1: Basic E2E (2-3 weeks) - User key pair generation - Message encryption/decryption - Secure key storage</p> <p>Phase 2: Advanced Features (3-4 weeks) - Key rotation - Forward secrecy - Delivery receipts</p> <p>Phase 3: Enterprise Features (4-6 weeks) - Compliance mode (optional key escrow) - Audit logging - Message retention policies</p>"},{"location":"MESSAGING/#trade-offs","title":"Trade-offs","text":""},{"location":"MESSAGING/#with-e2e-encryption","title":"With E2E Encryption:","text":"<p>Pros: - Maximum privacy - Protection from server breaches - Regulatory compliance (GDPR, HIPAA)</p> <p>Cons: - Increased complexity - No server-side search - Key management burden - Potential message recovery issues</p>"},{"location":"MESSAGING/#current-approach-tls-only","title":"Current Approach (TLS Only):","text":"<p>Pros: - Simpler architecture - Server-side search works - Easy message recovery - Lower development cost</p> <p>Cons: - Messages readable by server admin - Vulnerable to server-side breaches</p>"},{"location":"MESSAGING/#recommendations","title":"Recommendations","text":"<p>For a music studio management platform: 1. Start with current TLS-only approach - Provides good security for most use cases 2. Add E2E as optional premium feature - For studios with strict privacy requirements 3. Focus on access controls and audit logging first - Often more important than E2E 4. Consider compliance requirements - Some regulations actually prohibit E2E (for audit purposes)</p>"},{"location":"MESSAGING/#questions","title":"Questions?","text":"<p>For implementation guidance or architecture decisions, consult with your security team or a cryptography expert.</p>"},{"location":"NOTIFICATION_SYSTEM/","title":"Notification System Documentation","text":""},{"location":"NOTIFICATION_SYSTEM/#overview","title":"Overview","text":"<p>StudioSync now has a comprehensive, database-backed notification system that alerts users about important events in real-time.</p>"},{"location":"NOTIFICATION_SYSTEM/#features","title":"Features","text":""},{"location":"NOTIFICATION_SYSTEM/#notification-types","title":"\u2705 Notification Types","text":"<ol> <li>Welcome - New user onboarding</li> <li>Lesson Scheduled - New lesson created</li> <li>Lesson Reminder - Upcoming lesson (24h before)</li> <li>Lesson Cancelled - Lesson cancellation</li> <li>New Student - Instructor assigned new student</li> <li>New Message - Unread messages</li> <li>Payment Received - Payment confirmation</li> <li>Payment Due - Payment reminder</li> <li>Document Pending - Document requires signature</li> <li>Document Signed - Document completed</li> <li>System Update - Platform updates</li> <li>Inventory Request - Equipment checkout requests</li> <li>Practice Room Reserved - Room booking confirmation</li> </ol>"},{"location":"NOTIFICATION_SYSTEM/#backend-api-endpoints","title":"\u2705 Backend API Endpoints","text":"<p>Base URL: <code>/api/notifications/</code></p> Endpoint Method Description <code>/</code> GET List all notifications for current user <code>/recent/</code> GET Get last 50 notifications <code>/unread_count/</code> GET Get count of unread notifications <code>/{id}/</code> GET Get single notification <code>/{id}/mark_read/</code> POST Mark notification as read <code>/mark_all_read/</code> POST Mark all as read <code>/clear_all/</code> DELETE Delete all read notifications"},{"location":"NOTIFICATION_SYSTEM/#notification-model-fields","title":"\u2705 Notification Model Fields","text":"<pre><code>{\n    \"id\": 1,\n    \"notification_type\": \"lesson_scheduled\",\n    \"title\": \"New Lesson Scheduled\",\n    \"message\": \"Your Piano lesson is scheduled for December 21 at 03:00 PM\",\n    \"link\": \"/dashboard/lessons/123\",\n    \"read\": false,\n    \"read_at\": null,\n    \"created_at\": \"2025-12-20T20:00:00Z\",\n    \"time_ago\": \"2 mins ago\",\n    \"related_lesson_id\": 123,\n    \"related_student_id\": null,\n    \"related_message_id\": null,\n    \"related_document_id\": null\n}\n</code></pre>"},{"location":"NOTIFICATION_SYSTEM/#frontend-integration","title":"Frontend Integration","text":""},{"location":"NOTIFICATION_SYSTEM/#1-fetch-notifications","title":"1. Fetch Notifications","text":"<pre><code>// Get all notifications\nconst response = await api.get('/notifications/')\nconst notifications = response.data\n\n// Get unread count\nconst countResponse = await api.get('/notifications/unread_count/')\nconst unreadCount = countResponse.data.count\n</code></pre>"},{"location":"NOTIFICATION_SYSTEM/#2-mark-as-read","title":"2. Mark as Read","text":"<pre><code>// Mark single notification as read\nawait api.post(`/notifications/${notificationId}/mark_read/`)\n\n// Mark all as read\nawait api.post('/notifications/mark_all_read/')\n</code></pre>"},{"location":"NOTIFICATION_SYSTEM/#3-real-time-updates","title":"3. Real-time Updates","text":"<p>The frontend should poll for new notifications every 30-60 seconds:</p> <pre><code>useEffect(() =&gt; {\n    const interval = setInterval(async () =&gt; {\n        const response = await api.get('/notifications/unread_count/')\n        setUnreadCount(response.data.count)\n    }, 30000) // Every 30 seconds\n\n    return () =&gt; clearInterval(interval)\n}, [])\n</code></pre>"},{"location":"NOTIFICATION_SYSTEM/#creating-notifications","title":"Creating Notifications","text":""},{"location":"NOTIFICATION_SYSTEM/#from-code","title":"From Code","text":"<pre><code>from apps.notifications.models import Notification\n\n# Create custom notification\nNotification.create_notification(\n    user=user,\n    notification_type='system_update',\n    title='New Feature Available',\n    message='Check out the new calendar view!',\n    link='/dashboard/calendar'\n)\n\n# Use helper methods\nNotification.notify_lesson_scheduled(lesson)\nNotification.notify_new_student(teacher_user, student)\nNotification.notify_upcoming_lesson(lesson)\nNotification.notify_document_pending(user, 'Liability Waiver')\n</code></pre>"},{"location":"NOTIFICATION_SYSTEM/#automatic-notifications","title":"Automatic Notifications","text":"<p>Add signal handlers to automatically create notifications:</p> <pre><code># In apps/lessons/signals.py\nfrom django.db.models.signals import post_save\nfrom django.dispatch import receiver\nfrom apps.lessons.models import Lesson\nfrom apps.notifications.models import Notification\n\n@receiver(post_save, sender=Lesson)\ndef lesson_created_notification(sender, instance, created, **kwargs):\n    if created:\n        Notification.notify_lesson_scheduled(instance)\n</code></pre>"},{"location":"NOTIFICATION_SYSTEM/#scheduled-reminders","title":"Scheduled Reminders","text":"<p>Create a management command for daily reminders:</p> <pre><code># apps/notifications/management/commands/send_lesson_reminders.py\nfrom django.core.management.base import BaseCommand\nfrom django.utils import timezone\nfrom datetime import timedelta\nfrom apps.lessons.models import Lesson\nfrom apps.notifications.models import Notification\n\nclass Command(BaseCommand):\n    help = 'Send lesson reminders for tomorrow'\n\n    def handle(self, *args, **options):\n        tomorrow = timezone.now() + timedelta(days=1)\n        tomorrow_start = tomorrow.replace(hour=0, minute=0, second=0)\n        tomorrow_end = tomorrow.replace(hour=23, minute=59, second=59)\n\n        lessons = Lesson.objects.filter(\n            scheduled_start__gte=tomorrow_start,\n            scheduled_start__lte=tomorrow_end,\n            status='scheduled'\n        )\n\n        for lesson in lessons:\n            Notification.notify_upcoming_lesson(lesson)\n\n        self.stdout.write(f'Sent {lessons.count()} lesson reminders')\n</code></pre> <p>Run with cron: <pre><code>0 18 * * * cd /path/to/project &amp;&amp; python manage.py send_lesson_reminders\n</code></pre></p>"},{"location":"NOTIFICATION_SYSTEM/#migration","title":"Migration","text":"<p>Run migrations to create the notification table:</p> <pre><code>python manage.py makemigrations notifications\npython manage.py migrate notifications\n</code></pre>"},{"location":"NOTIFICATION_SYSTEM/#admin-interface","title":"Admin Interface","text":"<p>Notifications can be managed in Django Admin at <code>/admin/notifications/notification/</code></p> <p>Features: - View all notifications - Filter by type, read status, date - Search by user, title, message - Manually create notifications</p>"},{"location":"NOTIFICATION_SYSTEM/#best-practices","title":"Best Practices","text":"<ol> <li>Keep messages concise - Notification messages should be short and actionable</li> <li>Always include links - Make it easy for users to take action</li> <li>Don't spam - Batch similar notifications when possible</li> <li>Clean up old notifications - Periodically delete read notifications older than 30 days</li> <li>Test notification flow - Ensure notifications appear for the right users at the right time</li> </ol>"},{"location":"NOTIFICATION_SYSTEM/#future-enhancements","title":"Future Enhancements","text":"<ul> <li>[ ] Email notifications for critical events</li> <li>[ ] SMS notifications (via Twilio)</li> <li>[ ] Push notifications (PWA)</li> <li>[ ] Notification preferences per user</li> <li>[ ] Batch digest emails (daily/weekly summary)</li> <li>[ ] WebSocket real-time updates (no polling needed)</li> </ul>"},{"location":"NOTIFICATION_SYSTEM/#troubleshooting","title":"Troubleshooting","text":"<p>Notifications not appearing? - Check that the notifications app is in INSTALLED_APPS - Run migrations - Verify API endpoint is accessible - Check browser console for errors</p> <p>Read status not persisting? - Ensure mark_read endpoint is being called - Check that user has permission to update notification - Verify database connection</p> <p>Too many notifications? - Implement notification preferences - Add \"mute\" functionality for specific types - Batch similar notifications together</p>"},{"location":"PROFILE_UX_IMPROVEMENTS/","title":"Profile Settings UX Improvements","text":""},{"location":"PROFILE_UX_IMPROVEMENTS/#implemented","title":"\u2705 Implemented","text":""},{"location":"PROFILE_UX_IMPROVEMENTS/#1-change-tracking","title":"1. Change Tracking","text":"<p>The profile form now tracks whether you've made any changes: - Compares current form values with original values from database - Detects changes to: first_name, last_name, phone, bio, instrument</p>"},{"location":"PROFILE_UX_IMPROVEMENTS/#2-smart-save-button","title":"2. Smart Save Button","text":"<p>The \"Save Changes\" button now has three states:</p> <p>No Changes (Disabled) <pre><code>[Save Changes]  (grayed out, disabled)\n\"No changes to save\"\n</code></pre></p> <p>Has Changes (Enabled) <pre><code>[Save Changes]  (orange, clickable)\n</code></pre></p> <p>Saving <pre><code>[Saving...]  (orange, disabled while processing)\n</code></pre></p> <p>Just Saved <pre><code>[\u2713 Saved!]  (with green checkmark)\n\"Changes saved successfully!\"\n</code></pre></p> <p>The \"Saved!\" message shows for 3 seconds after successful save.</p>"},{"location":"PROFILE_UX_IMPROVEMENTS/#3-visual-feedback","title":"3. Visual Feedback","text":"<ul> <li>Disabled state: Gray background, cursor-not-allowed</li> <li>Enabled state: Orange (#F39C12) background, hover effect</li> <li>Saved state: Green checkmark + success message  </li> <li>Hint text: \"No changes to save\" when button is disabled</li> </ul>"},{"location":"PROFILE_UX_IMPROVEMENTS/#avatar-upload-debugging","title":"Avatar Upload Debugging","text":""},{"location":"PROFILE_UX_IMPROVEMENTS/#what-should-happen","title":"What Should Happen:","text":"<ol> <li>Click \"Upload Image\"</li> <li>Select image file (PNG, JPG up to 5MB)</li> <li>File uploads to <code>/api/core/users/me/</code> endpoint</li> <li>Gets saved to <code>media/avatars/</code> directory</li> <li>Avatar URL returned in response</li> <li>UI updates with new avatar</li> </ol>"},{"location":"PROFILE_UX_IMPROVEMENTS/#media-files-configuration","title":"Media Files Configuration \u2705","text":"<ul> <li><code>MEDIA_URL = 'media/'</code> \u2705</li> <li><code>MEDIA_ROOT = BASE_DIR / 'media'</code> \u2705</li> <li>Directory created: <code>media/avatars/</code> \u2705</li> <li>Permissions: <code>755</code> \u2705</li> <li>URLs configured in development \u2705</li> </ul>"},{"location":"PROFILE_UX_IMPROVEMENTS/#debug-logging-added","title":"Debug Logging Added","text":"<p>When you upload, check browser console for: <pre><code>Avatar upload started: filename.jpg image/jpeg 123456\nAvatar upload failed: [error object]\nError response: {...}\nError status: 400/500\n</code></pre></p>"},{"location":"PROFILE_UX_IMPROVEMENTS/#common-avatar-upload-issues","title":"Common Avatar Upload Issues:","text":"<ol> <li>CORS Error</li> <li>Error: \"blocked by CORS policy\"</li> <li> <p>Fix: Add frontend URL to Django CORS_ALLOWED_ORIGINS</p> </li> <li> <p>File Size</p> </li> <li>Error: \"File too large\"</li> <li> <p>Check: Is file &lt; 5MB?</p> </li> <li> <p>File Type</p> </li> <li>Error: \"Invalid file type\"</li> <li> <p>Check: Is it PNG/JPG/JPEG?</p> </li> <li> <p>Permissions</p> </li> <li>Error: \"Permission denied\"</li> <li> <p>Check: <code>chmod 755 media/avatars/</code></p> </li> <li> <p>Serializer</p> </li> <li>Error: \"This field is required\" for avatar</li> <li>Issue: Serializer not handling file uploads properly</li> </ol>"},{"location":"PROFILE_UX_IMPROVEMENTS/#testing-avatar-upload","title":"Testing Avatar Upload","text":"<ol> <li>Open browser developer tools (Console tab)</li> <li>Go to Settings \u2192 Profile  </li> <li>Click \"Upload Image\"</li> <li>Select a small image file (&lt; 1MB)</li> <li>Watch console for logs:</li> <li>Should see \"Avatar upload started\"</li> <li>If error: See detailed error message</li> <li>If success: See \"Avatar upload successful\"</li> </ol>"},{"location":"PROFILE_UX_IMPROVEMENTS/#next-steps-if-still-not-working","title":"Next Steps if Still Not Working","text":"<p>If avatar upload still fails after these changes:</p> <ol> <li>Check console for exact error message</li> <li>Check Django logs for backend errors</li> <li>Verify file upload in Django admin</li> <li>Test with curl: <pre><code>curl -X PATCH http://localhost:8000/api/core/users/me/ \\\n  -H \"Authorization: Bearer YOUR_TOKEN\" \\\n  -F \"avatar=@/path/to/image.jpg\"\n</code></pre></li> </ol>"},{"location":"PROFILE_UX_IMPROVEMENTS/#code-changes","title":"Code Changes","text":""},{"location":"PROFILE_UX_IMPROVEMENTS/#files-modified","title":"Files Modified:","text":"<ul> <li>\u2705 <code>frontend/app/dashboard/settings/page.tsx</code></li> <li>Added <code>justSaved</code> state</li> <li>Added <code>originalFormData</code> tracking</li> <li>Added <code>hasChanges()</code> function</li> <li>Updated save button with conditional styling</li> <li>Added visual feedback messages</li> <li> <p>Enhanced avatar upload error logging</p> </li> <li> <p>\u2705 <code>backend/media/avatars/</code> directory created</p> </li> </ul>"},{"location":"PROFILE_UX_IMPROVEMENTS/#next-enhancements","title":"Next Enhancements:","text":"<ul> <li>[ ] Add image cropping tool</li> <li>[ ] Add zoom/pan before upload</li> <li>[ ] Preview avatar before saving</li> <li>[ ] Drag &amp; drop upload</li> <li>[ ] Webcam capture option</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/","title":"Resources &amp; Knowledge Base - Feature Vision","text":""},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#overview","title":"Overview","text":"<p>Transform the Resources tab into a comprehensive knowledge base and lesson planning system that allows instructors to build, organize, and share teaching materials while creating custom lesson plans from those resources.</p>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#core-features","title":"\ud83c\udfaf Core Features","text":""},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#1-resource-library","title":"1. Resource Library","text":"<p>A centralized repository for all teaching materials:</p>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#resource-types","title":"Resource Types:","text":"<ul> <li>\ud83d\udcc4 Documents - PDFs, Word docs, lesson notes</li> <li>\ud83c\udfb5 Sheet Music - Scores, chord charts, tabs</li> <li>\ud83c\udfac Videos - Tutorial videos, performance recordings</li> <li>\ud83c\udfa7 Audio - Practice tracks, backing tracks, recordings</li> <li>\ud83d\udd17 Links - YouTube videos, external resources, websites</li> <li>\ud83d\udcdd Text Notes - Quick tips, technique guides</li> <li>\ud83d\udcca Exercises - Practice routines, scales, drills</li> <li>\ud83d\udcda Books - Method books, theory books (metadata + files)</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#organization","title":"Organization:","text":"<pre><code>Resources/\n\u251c\u2500\u2500 By Category/\n\u2502   \u251c\u2500\u2500 Technique/\n\u2502   \u251c\u2500\u2500 Theory/\n\u2502   \u251c\u2500\u2500 Repertoire/\n\u2502   \u251c\u2500\u2500 Scales &amp; Exercises/\n\u2502   \u2514\u2500\u2500 Performance/\n\u251c\u2500\u2500 By Instrument/\n\u2502   \u251c\u2500\u2500 Piano/\n\u2502   \u251c\u2500\u2500 Guitar/\n\u2502   \u251c\u2500\u2500 Violin/\n\u2502   \u2514\u2500\u2500 Voice/\n\u251c\u2500\u2500 By Skill Level/\n\u2502   \u251c\u2500\u2500 Beginner/\n\u2502   \u251c\u2500\u2500 Intermediate/\n\u2502   \u2514\u2500\u2500 Advanced/\n\u2514\u2500\u2500 By Tags/\n    \u251c\u2500\u2500 #jazz\n    \u251c\u2500\u2500 #classical\n    \u251c\u2500\u2500 #rhythm\n    \u2514\u2500\u2500 #sight-reading\n</code></pre>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#features","title":"Features:","text":"<ul> <li>\u2705 Drag-and-drop file upload</li> <li>\u2705 Bulk upload</li> <li>\u2705 Preview files in-browser</li> <li>\u2705 Version control (track updates to resources)</li> <li>\u2705 Favorites/bookmarks</li> <li>\u2705 Search and filter</li> <li>\u2705 Tags and categories</li> <li>\u2705 Share with specific students or classes</li> <li>\u2705 Public vs. private resources</li> <li>\u2705 Download tracking (who accessed what)</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#2-knowledge-base-wiki","title":"2. Knowledge Base / Wiki","text":"<p>A structured knowledge repository for teaching concepts:</p>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#structure","title":"Structure:","text":"<pre><code>Knowledge Base/\n\u251c\u2500\u2500 Music Theory/\n\u2502   \u251c\u2500\u2500 Scales/\n\u2502   \u2502   \u251c\u2500\u2500 Major Scales\n\u2502   \u2502   \u251c\u2500\u2500 Minor Scales\n\u2502   \u2502   \u2514\u2500\u2500 Modes\n\u2502   \u251c\u2500\u2500 Chords/\n\u2502   \u2502   \u251c\u2500\u2500 Triads\n\u2502   \u2502   \u251c\u2500\u2500 Seventh Chords\n\u2502   \u2502   \u2514\u2500\u2500 Extensions\n\u2502   \u2514\u2500\u2500 Rhythm/\n\u2502       \u251c\u2500\u2500 Time Signatures\n\u2502       \u251c\u2500\u2500 Note Values\n\u2502       \u2514\u2500\u2500 Syncopation\n\u251c\u2500\u2500 Techniques/\n\u2502   \u251c\u2500\u2500 Piano/\n\u2502   \u2502   \u251c\u2500\u2500 Hand Position\n\u2502   \u2502   \u251c\u2500\u2500 Pedaling\n\u2502   \u2502   \u2514\u2500\u2500 Fingering\n\u2502   \u2514\u2500\u2500 Guitar/\n\u2502       \u251c\u2500\u2500 Picking Techniques\n\u2502       \u251c\u2500\u2500 Fretting\n\u2502       \u2514\u2500\u2500 Barre Chords\n\u2514\u2500\u2500 Practice Methods/\n    \u251c\u2500\u2500 Effective Practice Routines\n    \u251c\u2500\u2500 Sight Reading Tips\n    \u2514\u2500\u2500 Memorization Techniques\n</code></pre>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#features_1","title":"Features:","text":"<ul> <li>\ud83d\udcdd Rich text editor (Markdown or WYSIWYG)</li> <li>\ud83d\uddbc\ufe0f Embed images, videos, audio</li> <li>\ud83d\udd17 Internal linking between articles</li> <li>\ud83d\udcca Diagrams and charts</li> <li>\ud83d\udcac Comments and discussions</li> <li>\u2b50 Student ratings/feedback</li> <li>\ud83d\udd0d Full-text search</li> <li>\ud83d\udcf1 Mobile-friendly reading</li> <li>\ud83d\udce4 Export to PDF</li> <li>\ud83c\udf10 Public wiki option (share knowledge with the world)</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#3-lesson-plan-builder","title":"3. Lesson Plan Builder","text":"<p>Create custom lesson plans by combining resources:</p>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#lesson-plan-structure","title":"Lesson Plan Structure:","text":"<pre><code>{\n  \"title\": \"Introduction to Major Scales\",\n  \"duration\": 60,\n  \"skill_level\": \"beginner\",\n  \"objectives\": [\n    \"Understand major scale construction\",\n    \"Play C major scale hands separately\",\n    \"Identify major scale pattern on keyboard\"\n  ],\n  \"sections\": [\n    {\n      \"title\": \"Warm-up\",\n      \"duration\": 10,\n      \"resources\": [\n        { \"type\": \"exercise\", \"id\": 123, \"name\": \"Finger Exercises\" },\n        { \"type\": \"audio\", \"id\": 456, \"name\": \"Warm-up Track\" }\n      ],\n      \"notes\": \"Start with finger stretches and simple scales\"\n    },\n    {\n      \"title\": \"Theory Introduction\",\n      \"duration\": 15,\n      \"resources\": [\n        { \"type\": \"wiki\", \"id\": 789, \"name\": \"Major Scales Article\" },\n        { \"type\": \"video\", \"id\": 101, \"name\": \"Scale Construction Video\" }\n      ],\n      \"notes\": \"Explain whole and half steps\"\n    },\n    {\n      \"title\": \"Hands-on Practice\",\n      \"duration\": 25,\n      \"resources\": [\n        { \"type\": \"sheet_music\", \"id\": 202, \"name\": \"C Major Scale\" },\n        { \"type\": \"backing_track\", \"id\": 303, \"name\": \"C Major Drone\" }\n      ],\n      \"notes\": \"Practice hands separately first, then together\"\n    },\n    {\n      \"title\": \"Homework Assignment\",\n      \"duration\": 10,\n      \"resources\": [\n        { \"type\": \"document\", \"id\": 404, \"name\": \"Practice Log\" },\n        { \"type\": \"exercise\", \"id\": 505, \"name\": \"Daily Scale Routine\" }\n      ],\n      \"notes\": \"Practice 10 minutes daily\"\n    }\n  ],\n  \"homework\": [\n    \"Practice C major scale 10 minutes daily\",\n    \"Watch supplementary video on scale patterns\",\n    \"Complete practice log\"\n  ],\n  \"assessment\": {\n    \"type\": \"performance\",\n    \"criteria\": [\"Accuracy\", \"Rhythm\", \"Hand position\"]\n  }\n}\n</code></pre>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#features_2","title":"Features:","text":"<ul> <li>\ud83c\udfa8 Drag-and-drop lesson builder</li> <li>\ud83d\udcda Resource picker (search and add from library)</li> <li>\u23f1\ufe0f Time allocation per section</li> <li>\ud83c\udfaf Learning objectives</li> <li>\ud83d\udcdd Section notes and instructions</li> <li>\ud83d\udccb Homework assignments</li> <li>\u2705 Assessment criteria</li> <li>\ud83d\udd04 Reusable templates</li> <li>\ud83d\udcc5 Assign to specific lessons/students</li> <li>\ud83d\udcca Track lesson completion</li> <li>\ud83d\udcbe Save as template for future use</li> <li>\ud83d\udd17 Share with other instructors</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#4-lesson-plan-templates","title":"4. Lesson Plan Templates","text":"<p>Pre-built templates for common lesson types:</p>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#template-categories","title":"Template Categories:","text":"<ul> <li>First Lesson - Student assessment and goal setting</li> <li>Technique Focus - Specific technical skills</li> <li>Theory Lesson - Music theory concepts</li> <li>Repertoire - Learning new pieces</li> <li>Performance Prep - Preparing for recitals</li> <li>Exam Preparation - Structured exam prep</li> <li>Improvisation - Jazz/creative playing</li> <li>Ensemble - Group lesson plans</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#template-features","title":"Template Features:","text":"<ul> <li>\ud83d\udccb Pre-filled structure</li> <li>\ud83c\udfaf Common objectives</li> <li>\ud83d\udcda Suggested resources</li> <li>\u23f1\ufe0f Recommended timing</li> <li>\u270f\ufe0f Fully customizable</li> <li>\ud83d\udcbe Save custom templates</li> <li>\ud83c\udf10 Community template sharing</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#5-integration-with-lessons","title":"5. Integration with Lessons","text":"<p>Connect resources and plans to actual lessons:</p>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#during-lesson-creation","title":"During Lesson Creation:","text":"<pre><code>Create Lesson\n\u251c\u2500\u2500 Basic Info (date, time, student)\n\u251c\u2500\u2500 Lesson Plan Selection\n\u2502   \u251c\u2500\u2500 Use existing plan\n\u2502   \u251c\u2500\u2500 Create new plan\n\u2502   \u2514\u2500\u2500 No plan (freestyle)\n\u251c\u2500\u2500 Resources to Share\n\u2502   \u2514\u2500\u2500 Select from library\n\u2514\u2500\u2500 Post-Lesson Notes\n    \u251c\u2500\u2500 What was covered\n    \u251c\u2500\u2500 Student progress\n    \u2514\u2500\u2500 Next lesson focus\n</code></pre>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#duringafter-lesson","title":"During/After Lesson:","text":"<ul> <li>\u2705 Check off completed sections</li> <li>\ud83d\udcdd Add real-time notes</li> <li>\ud83d\udcca Track time spent per section</li> <li>\u2b50 Rate student performance</li> <li>\ud83d\udcf8 Upload photos/videos from lesson</li> <li>\ud83d\udce4 Share resources with student instantly</li> <li>\ud83d\udce7 Email lesson summary to student/parent</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#6-student-access","title":"6. Student Access","text":"<p>Students can access their assigned resources:</p>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#student-portal-features","title":"Student Portal Features:","text":"<ul> <li>\ud83d\udcda View assigned resources</li> <li>\ud83d\udce5 Download materials</li> <li>\ud83c\udfa5 Watch videos</li> <li>\ud83c\udfa7 Listen to audio</li> <li>\ud83d\udcdd View lesson plans (what to expect)</li> <li>\u2705 Mark resources as \"reviewed\"</li> <li>\ud83d\udcac Ask questions/comment</li> <li>\u2b50 Rate helpfulness</li> <li>\ud83d\udcca Track practice time with resources</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#7-advanced-features","title":"7. Advanced Features","text":""},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#ai-powered-suggestions","title":"AI-Powered Suggestions:","text":"<ul> <li>\ud83e\udd16 Suggest resources based on student level</li> <li>\ud83c\udfaf Recommend lesson plans for specific goals</li> <li>\ud83d\udcca Analyze which resources are most effective</li> <li>\ud83d\udd0d Auto-tag uploaded resources</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#collaboration","title":"Collaboration:","text":"<ul> <li>\ud83d\udc65 Share resources with other instructors</li> <li>\ud83d\udcac Discuss teaching strategies</li> <li>\u2b50 Rate and review resources</li> <li>\ud83c\udf10 Public resource marketplace</li> <li>\ud83d\udce6 Resource bundles/packages</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#analytics","title":"Analytics:","text":"<ul> <li>\ud83d\udcca Most used resources</li> <li>\u23f1\ufe0f Average time spent on resources</li> <li>\ud83d\udcc8 Student engagement metrics</li> <li>\u2705 Completion rates</li> <li>\ud83c\udfaf Effectiveness tracking</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#database-schema","title":"\ud83d\uddc4\ufe0f Database Schema","text":""},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#resource-model","title":"Resource Model:","text":"<pre><code>class Resource(models.Model):\n    RESOURCE_TYPES = [\n        ('document', 'Document'),\n        ('sheet_music', 'Sheet Music'),\n        ('video', 'Video'),\n        ('audio', 'Audio'),\n        ('link', 'External Link'),\n        ('text', 'Text Note'),\n        ('exercise', 'Exercise'),\n    ]\n\n    title = models.CharField(max_length=200)\n    description = models.TextField(blank=True)\n    resource_type = models.CharField(max_length=20, choices=RESOURCE_TYPES)\n    file = models.FileField(upload_to='resources/', null=True, blank=True)\n    url = models.URLField(null=True, blank=True)\n    content = models.TextField(blank=True)  # For text notes\n\n    # Organization\n    category = models.CharField(max_length=100)\n    instrument = models.CharField(max_length=100, blank=True)\n    skill_level = models.CharField(max_length=50)\n    tags = models.JSONField(default=list)\n\n    # Metadata\n    created_by = models.ForeignKey(User, on_delete=models.CASCADE)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    is_public = models.BooleanField(default=False)\n\n    # Sharing\n    shared_with_students = models.ManyToManyField(Student, blank=True)\n    shared_with_classes = models.ManyToManyField('Class', blank=True)\n\n    # Analytics\n    view_count = models.IntegerField(default=0)\n    download_count = models.IntegerField(default=0)\n    average_rating = models.DecimalField(max_digits=3, decimal_places=2, default=0)\n</code></pre>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#lesson-plan-model","title":"Lesson Plan Model:","text":"<pre><code>class LessonPlan(models.Model):\n    title = models.CharField(max_length=200)\n    description = models.TextField()\n    duration_minutes = models.IntegerField()\n    skill_level = models.CharField(max_length=50)\n    instrument = models.CharField(max_length=100)\n\n    objectives = models.JSONField(default=list)\n    sections = models.JSONField(default=list)  # Array of section objects\n    homework = models.JSONField(default=list)\n    assessment_criteria = models.JSONField(default=list)\n\n    created_by = models.ForeignKey(User, on_delete=models.CASCADE)\n    is_template = models.BooleanField(default=False)\n    is_public = models.BooleanField(default=False)\n\n    # Usage tracking\n    times_used = models.IntegerField(default=0)\n    average_rating = models.DecimalField(max_digits=3, decimal_places=2, default=0)\n</code></pre>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#knowledge-base-article-model","title":"Knowledge Base Article Model:","text":"<pre><code>class KnowledgeArticle(models.Model):\n    title = models.CharField(max_length=200)\n    slug = models.SlugField(unique=True)\n    content = models.TextField()  # Markdown or HTML\n    category = models.CharField(max_length=100)\n    tags = models.JSONField(default=list)\n\n    author = models.ForeignKey(User, on_delete=models.CASCADE)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    is_published = models.BooleanField(default=True)\n    is_public = models.BooleanField(default=False)\n\n    # Related articles\n    related_articles = models.ManyToManyField('self', blank=True)\n\n    # Analytics\n    view_count = models.IntegerField(default=0)\n    helpful_count = models.IntegerField(default=0)\n</code></pre>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#uiux-mockup-ideas","title":"\ud83c\udfa8 UI/UX Mockup Ideas","text":""},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#resource-library-view","title":"Resource Library View:","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \ud83d\udcda Resource Library                    [+ Upload] [Create Plan] \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Filters: [All Types \u25bc] [All Instruments \u25bc] [All Levels \u25bc]      \u2502\n\u2502 Search: [\ud83d\udd0d Search resources...]                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502 \u2502 \ud83d\udcc4       \u2502 \u2502 \ud83c\udfb5       \u2502 \u2502 \ud83c\udfac       \u2502 \u2502 \ud83c\udfa7       \u2502   \u2502\n\u2502 \u2502 Scale    \u2502 \u2502 Chopin   \u2502 \u2502 Technique\u2502 \u2502 Backing  \u2502   \u2502\n\u2502 \u2502 Exercises\u2502 \u2502 Waltz    \u2502 \u2502 Video    \u2502 \u2502 Track    \u2502   \u2502\n\u2502 \u2502 \u2b50\u2b50\u2b50\u2b50\u2b50  \u2502 \u2502 \u2b50\u2b50\u2b50\u2b50   \u2502 \u2502 \u2b50\u2b50\u2b50\u2b50\u2b50  \u2502 \u2502 \u2b50\u2b50\u2b50     \u2502   \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#lesson-plan-builder","title":"Lesson Plan Builder:","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Create Lesson Plan: \"Introduction to Major Scales\"      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Duration: [60] min  Level: [Beginner \u25bc]  Instrument: [Piano \u25bc] \u2502\n\u2502                                                          \u2502\n\u2502 Objectives:                                              \u2502\n\u2502 \u2022 Understand major scale construction                   \u2502\n\u2502 \u2022 Play C major scale hands separately                   \u2502\n\u2502 [+ Add objective]                                        \u2502\n\u2502                                                          \u2502\n\u2502 \u250c\u2500 Section 1: Warm-up (10 min) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 Resources: [+ Add Resource]                         \u2502 \u2502\n\u2502 \u2502 \u2022 \ud83d\udcc4 Finger Exercises                    [\u00d7]        \u2502 \u2502\n\u2502 \u2502 \u2022 \ud83c\udfa7 Warm-up Track                       [\u00d7]        \u2502 \u2502\n\u2502 \u2502 Notes: [Start with finger stretches...]            \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                          \u2502\n\u2502 [+ Add Section]                                          \u2502\n\u2502                                                          \u2502\n\u2502 [Cancel] [Save as Template] [Save &amp; Use]                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#implementation-priority","title":"\ud83d\ude80 Implementation Priority","text":""},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#phase-1-basic-resource-library-week-1-2","title":"Phase 1: Basic Resource Library (Week 1-2)","text":"<ul> <li>[ ] File upload and storage</li> <li>[ ] Basic categorization</li> <li>[ ] Search and filter</li> <li>[ ] Resource viewing/download</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#phase-2-lesson-plan-builder-week-3-4","title":"Phase 2: Lesson Plan Builder (Week 3-4)","text":"<ul> <li>[ ] Lesson plan model</li> <li>[ ] Drag-and-drop builder UI</li> <li>[ ] Resource picker</li> <li>[ ] Save and reuse plans</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#phase-3-knowledge-base-week-5-6","title":"Phase 3: Knowledge Base (Week 5-6)","text":"<ul> <li>[ ] Article creation and editing</li> <li>[ ] Category structure</li> <li>[ ] Search and navigation</li> <li>[ ] Public wiki option</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#phase-4-integration-polish-week-7-8","title":"Phase 4: Integration &amp; Polish (Week 7-8)","text":"<ul> <li>[ ] Connect to actual lessons</li> <li>[ ] Student portal access</li> <li>[ ] Analytics and tracking</li> <li>[ ] Mobile optimization</li> </ul>"},{"location":"RESOURCES_KNOWLEDGE_BASE_VISION/#unique-features-to-stand-out","title":"\ud83d\udca1 Unique Features to Stand Out","text":"<ol> <li>AI Lesson Assistant - Suggest resources and plan structure based on student progress</li> <li>Practice Mode - Students can practice with resources in an interactive player</li> <li>Progress Tracking - Visualize which resources students have mastered</li> <li>Community Marketplace - Buy/sell premium lesson plans and resources</li> <li>Integration with Music Theory APIs - Auto-generate exercises and theory content</li> <li>Voice Notes - Record quick teaching tips attached to resources</li> <li>Collaborative Editing - Multiple instructors can build plans together</li> <li>Version History - Track changes to lesson plans over time</li> </ol> <p>This would make StudioSync's Resources tab one of the most comprehensive teaching tools available!</p>"},{"location":"ROADMAP/","title":"Feature Roadmap &amp; Implementation Status","text":""},{"location":"ROADMAP/#completed-features","title":"\u2705 Completed Features","text":""},{"location":"ROADMAP/#backend-infrastructure","title":"Backend Infrastructure","text":"<ul> <li>[x] Notification system (models, API, admin)</li> <li>[x] GDPR compliance views</li> <li>[x] Inventory management system</li> <li>[x] Practice room reservations</li> <li>[x] User authentication &amp; roles</li> <li>[x] Lesson management</li> <li>[x] Student/Teacher profiles</li> </ul>"},{"location":"ROADMAP/#frontend","title":"Frontend","text":"<ul> <li>[x] Premium login/signup pages with branding</li> <li>[x] Calendar with privacy controls</li> <li>[x] Dashboard with settings</li> <li>[x] Pricing page with functional buttons</li> <li>[x] About page with GitHub link</li> </ul>"},{"location":"ROADMAP/#in-progress","title":"\ud83d\udea7 In Progress","text":""},{"location":"ROADMAP/#notification-system-frontend-integration","title":"Notification System Frontend Integration","text":"<p>Status: Backend complete, frontend needs update</p> <p>What's Done: - \u2705 Backend API (<code>/api/notifications/</code>) - \u2705 Database model with 13 notification types - \u2705 Mark as read, mark all as read endpoints - \u2705 Unread count endpoint - \u2705 Auto-polling capability</p> <p>What's Needed: - [ ] Update <code>DashboardHeader.tsx</code> to use API instead of user preferences - [ ] Add real-time polling (every 30s) - [ ] Fix \"mark as read\" persistence issue - [ ] Add notification icons per type - [ ] Create \"View all notifications\" page</p> <p>Files to Update: - <code>/frontend/components/DashboardHeader.tsx</code> - Replace notification logic - <code>/frontend/app/dashboard/notifications/page.tsx</code> - Create full notifications page</p>"},{"location":"ROADMAP/#planned-features","title":"\ud83d\udccb Planned Features","text":""},{"location":"ROADMAP/#1-classes-group-lessons","title":"1. Classes &amp; Group Lessons","text":"<p>Priority: High Description: Allow instructors to create and manage group lessons/classes</p> <p>Features Needed: - [ ] Class/Group model (backend) - [ ] Class creation UI - [ ] Student enrollment in classes - [ ] Group lesson scheduling - [ ] Shared lesson plans for groups - [ ] Class attendance tracking - [ ] Group messaging</p> <p>Database Schema: <pre><code>class Class(models.Model):\n    name = models.CharField(max_length=200)\n    instructor = models.ForeignKey(Teacher)\n    students = models.ManyToManyField(Student)\n    instrument_focus = models.CharField(max_length=100)\n    skill_level = models.CharField(max_length=50)\n    max_students = models.IntegerField(default=10)\n    schedule = models.JSONField()  # Recurring schedule\n    created_at = models.DateTimeField(auto_now_add=True)\n</code></pre></p>"},{"location":"ROADMAP/#2-bands-ensembles-management","title":"2. Bands &amp; Ensembles Management","text":"<p>Priority: High Description: Manage bands/ensembles with member tracking and shared resources</p> <p>Features Needed: - [ ] Band/Ensemble model (backend) - [ ] Band creation and management UI - [ ] Member roster with instrument assignments - [ ] Shared repertoire/setlist management - [ ] Practice schedule coordination - [ ] Performance tracking - [ ] Band-specific file sharing (sheet music, recordings) - [ ] Band messaging/announcements</p> <p>Database Schema: <pre><code>class Band(models.Model):\n    name = models.CharField(max_length=200)\n    genre = models.CharField(max_length=100)\n    director = models.ForeignKey(Teacher, null=True)\n    description = models.TextField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n\nclass BandMember(models.Model):\n    band = models.ForeignKey(Band, related_name='members')\n    student = models.ForeignKey(Student)\n    instrument = models.CharField(max_length=100)\n    role = models.CharField(max_length=100)  # e.g., \"Lead Guitar\", \"Drummer\"\n    joined_date = models.DateField()\n\nclass BandRepertoire(models.Model):\n    band = models.ForeignKey(Band, related_name='repertoire')\n    song_title = models.CharField(max_length=200)\n    composer = models.CharField(max_length=200)\n    status = models.CharField(max_length=50)  # learning, rehearsing, performance-ready\n    sheet_music = models.FileField(upload_to='band_music/')\n</code></pre></p>"},{"location":"ROADMAP/#3-stripe-payment-integration","title":"3. Stripe Payment Integration","text":"<p>Priority: Medium Description: Integrate Stripe for subscription payments and billing</p> <p>Features Needed: - [ ] Stripe API integration - [ ] Subscription management - [ ] Payment webhooks - [ ] Customer portal - [ ] Invoice generation - [ ] Trial period automation - [ ] Payment history</p>"},{"location":"ROADMAP/#4-document-management-e-signatures","title":"4. Document Management &amp; E-Signatures","text":"<p>Priority: Medium Description: Digital document signing for waivers, contracts, etc.</p> <p>Features Needed: - [ ] Document upload and templates - [ ] E-signature capture - [ ] Document status tracking - [ ] Notifications for pending signatures - [ ] Document storage and retrieval - [ ] Integration with Resources panel</p>"},{"location":"ROADMAP/#5-messaging-system-enhancement","title":"5. Messaging System Enhancement","text":"<p>Priority: Low Description: Improve in-app messaging</p> <p>Features Needed: - [ ] Real-time chat (WebSockets) - [ ] Group messaging - [ ] File attachments - [ ] Message read receipts - [ ] Push notifications for new messages</p>"},{"location":"ROADMAP/#known-issues","title":"\ud83d\udc1b Known Issues","text":""},{"location":"ROADMAP/#critical","title":"Critical","text":"<ul> <li>[ ] Login failing due to backend module import error (FIXED - needs testing)</li> <li>[ ] Notification \"mark as read\" not persisting (backend ready, frontend needs update)</li> </ul>"},{"location":"ROADMAP/#medium","title":"Medium","text":"<ul> <li>[ ] Demo lessons still showing on calendar (FIXED - removed for production)</li> <li>[ ] Non-Docker version needs to match Docker functionality</li> </ul>"},{"location":"ROADMAP/#low","title":"Low","text":"<ul> <li>[ ] Logo needs to be consistent across all pages</li> </ul>"},{"location":"ROADMAP/#next-immediate-steps","title":"\ud83c\udfaf Next Immediate Steps","text":"<ol> <li>Test Backend Login Fix</li> <li>Restart Docker containers</li> <li>Test login with admin@test.com</li> <li> <p>Verify no module errors</p> </li> <li> <p>Update Notification Frontend</p> </li> <li>Replace user preferences with API calls</li> <li>Add polling for real-time updates</li> <li> <p>Test mark as read functionality</p> </li> <li> <p>Run Notification Migrations <pre><code>docker-compose exec backend python manage.py makemigrations notifications\ndocker-compose exec backend python manage.py migrate notifications\n</code></pre></p> </li> <li> <p>Plan Classes &amp; Bands Feature</p> </li> <li>Design database schema</li> <li>Create wireframes for UI</li> <li>Implement backend models</li> <li>Build frontend components</li> </ol>"},{"location":"ROADMAP/#progress-tracking","title":"\ud83d\udcca Progress Tracking","text":"<p>Overall Completion: ~70%</p> <ul> <li>Core Features: 85%</li> <li>UI/UX Polish: 80%</li> <li>Backend API: 75%</li> <li>Frontend Integration: 65%</li> <li>Production Readiness: 60%</li> </ul> <p>Target for MVP: 90% overall completion</p> <p>Estimated Time to MVP: - Notification system fix: 2 hours - Classes feature: 1 week - Bands feature: 1 week - Stripe integration: 3-4 days - Document signing: 1 week - Polish &amp; testing: 1 week</p> <p>Total: ~4-5 weeks to full MVP</p>"},{"location":"SETTINGS_COMPLETE/","title":"Settings Implementation Complete! \u2705","text":""},{"location":"SETTINGS_COMPLETE/#all-settings-tabs-are-now-functional","title":"All Settings Tabs Are Now Functional","text":"<p>All settings are now saving to the <code>User.preferences</code> JSON field in the database.</p>"},{"location":"SETTINGS_COMPLETE/#profile-settings","title":"\u2705 Profile Settings","text":"<ul> <li>What Saves: first_name, last_name, phone, bio, instrument</li> <li>Endpoint: <code>PATCH /core/users/me/</code></li> <li>Field: Direct user fields</li> </ul>"},{"location":"SETTINGS_COMPLETE/#studio-settings","title":"\u2705 Studio Settings","text":"<ul> <li>What Saves: studio_name, studio_address, default_lesson_duration, cancellation_notice, studio_description</li> <li>Endpoint: <code>PATCH /core/users/me/</code></li> <li>Field: <code>preferences.studio</code></li> </ul>"},{"location":"SETTINGS_COMPLETE/#communication-settings","title":"\u2705 Communication Settings","text":"<ul> <li>What Saves: email_lessons, email_messages, email_payments, sms_reminders, reminder_hours, auto_confirm_lessons</li> <li>Endpoint: <code>PATCH /core/users/me/</code></li> <li>Field: <code>preferences.communication</code></li> </ul>"},{"location":"SETTINGS_COMPLETE/#appearance-settings","title":"\u2705 Appearance Settings","text":"<ul> <li>What Saves: theme, compact_mode, font_size, color_scheme</li> <li>Endpoint: <code>PATCH /core/users/me/</code></li> <li>Field: <code>preferences.appearance</code></li> </ul>"},{"location":"SETTINGS_COMPLETE/#notifications-settings","title":"\u2705 Notifications Settings","text":"<ul> <li>What Saves: All notification preferences (push_enabled, email_enabled, sms_enabled, lesson_reminders, payment_alerts, new_messages, student_updates, quiet_hours_enabled, quiet_start, quiet_end)</li> <li>Endpoint: <code>PATCH /core/users/me/</code></li> <li>Field: <code>preferences.notifications</code></li> </ul>"},{"location":"SETTINGS_COMPLETE/#technical-settings-admin-only","title":"\u2705 Technical Settings (Admin Only)","text":"<ul> <li>What Saves: SMTP settings (host, port, username, password, from_email, from_name, use_tls) and SMS settings (provider, account_sid, auth_token, from_number)</li> <li>Endpoint: <code>PATCH /core/users/me/</code></li> <li>Field: <code>preferences.technical</code></li> </ul>"},{"location":"SETTINGS_COMPLETE/#how-it-works","title":"How It Works","text":"<p>When you click \"Save Changes\" on any tab:</p> <pre><code>// Merges new settings into existing preferences\nconst updatedPreferences = {\n    ...currentUser?.preferences,\n    [settingsType.toLowerCase()]: settings\n}\n\n// Saves to backend\nawait api.patch('/core/users/me/', {\n    preferences: updatedPreferences\n})\n\n// Updates local state\nsetCurrentUser(response.data)\n</code></pre>"},{"location":"SETTINGS_COMPLETE/#database-structure","title":"Database Structure","text":"<p>All settings are stored in the <code>User</code> model's <code>preferences</code> JSONField:</p> <pre><code>{\n  \"studio\": {\n    \"studio_name\": \"My Music Studio\",\n    \"default_lesson_duration\": \"60\",\n    ...\n  },\n  \"communication\": {\n    \"email_lessons\": true,\n    \"sms_reminders\": true,\n    ...\n  },\n  \"appearance\": {\n    \"theme\": \"dark\",\n    \"color_scheme\": \"purple\",\n    ...\n  },\n  \"notifications\": {\n    \"push_enabled\": true,\n    \"quiet_hours_enabled\": true,\n    ...\n  },\n  \"technical\": {\n    \"smtp_host\": \"smtp.gmail.com\",\n    \"smtp_port\": \"587\",\n    ...\n  }\n}\n</code></pre>"},{"location":"SETTINGS_COMPLETE/#testing","title":"Testing","text":"<ol> <li>Change any setting</li> <li>Click \"Save Changes\"</li> <li>Refresh the page</li> <li>Settings should persist!</li> </ol>"},{"location":"SETTINGS_COMPLETE/#next-steps","title":"Next Steps","text":"<ul> <li>[ ] Implement appearance theme switching (apply the selected theme)</li> <li>[ ] Actually use communication settings for sending emails/SMS</li> <li>[ ] Use SMTP/SMS settings for email delivery</li> <li>[ ] Add encryption for sensitive technical settings</li> </ul>"},{"location":"SETTINGS_STATUS/","title":"Settings Functionality Status","text":""},{"location":"SETTINGS_STATUS/#whats-currently-working","title":"\u2705 What's Currently Working","text":""},{"location":"SETTINGS_STATUS/#profile-settings","title":"Profile Settings","text":"<ul> <li>Load: \u2705 Working - Data loads from <code>useUser()</code> context which calls <code>/core/users/me/</code></li> <li>Save: \u2705 Working - Calls <code>PATCH /core/users/me/</code> with updated profile data</li> <li>Fields Saved: first_name, last_name, phone, bio, instrument</li> </ul>"},{"location":"SETTINGS_STATUS/#avatar-upload","title":"Avatar Upload","text":"<ul> <li>Backend Support: \u2705 Yes - <code>User</code> model has <code>avatar = models.FileField(upload_to='avatars/', blank=True, null=True)</code></li> <li>Serializer: \u2705 Included in <code>UserSerializer</code> fields</li> <li>Frontend: \u2705 Calls <code>PATCH /core/users/me/</code> with FormData</li> <li>Status: Should be working, but may fail if:</li> <li>Media files not configured in Django settings</li> <li>Upload directory permissions issue</li> <li>CORS blocking file uploads</li> </ul>"},{"location":"SETTINGS_STATUS/#whats-not-working","title":"\u274c What's NOT Working","text":""},{"location":"SETTINGS_STATUS/#studio-settings","title":"Studio Settings","text":"<ul> <li>Current State: Only shows success toast</li> <li>Backend Needed: Studio model exists, but needs endpoint configuration</li> <li>Fix Needed: Connect to <code>/api/studios/{id}/</code> or create new settings endpoint</li> </ul>"},{"location":"SETTINGS_STATUS/#communication-settings","title":"Communication Settings","text":"<ul> <li>Current State: Only shows success toast  </li> <li>Backend Needed: No dedicated preference/settings model</li> <li>Options:</li> <li>Add JSON field to User model for preferences</li> <li>Create separate UserPreferences model</li> <li>Use existing <code>preferences</code> field on User model</li> </ul>"},{"location":"SETTINGS_STATUS/#appearance-settings","title":"Appearance Settings","text":"<ul> <li>Current State: Only shows success toast</li> <li>Backend Needed: Store in user preferences</li> <li>Fix Needed: Save to <code>User.preferences</code> JSON field</li> </ul>"},{"location":"SETTINGS_STATUS/#notifications-settings","title":"Notifications Settings","text":"<ul> <li>Current State: Only shows success toast</li> <li>Backend Needed: Store in user preferences  </li> <li>Fix Needed: Save to <code>User.preferences</code> JSON field</li> </ul>"},{"location":"SETTINGS_STATUS/#technical-settings-smtpsms","title":"Technical Settings (SMTP/SMS)","text":"<ul> <li>Current State: Only shows success toast</li> <li>Backend Needed: Studio-level settings or global config</li> <li>Security: Should be encrypted in database</li> <li>Fix Needed: Create StudioSettings or SystemConfig model</li> </ul>"},{"location":"SETTINGS_STATUS/#how-to-fix","title":"\ud83d\udd27 How to Fix","text":""},{"location":"SETTINGS_STATUS/#option-1-use-userpreferences-json-field-quickest","title":"Option 1: Use User.preferences JSON Field (Quickest)","text":"<p>The User model already has a <code>preferences</code> JSONField. We can store all settings there:</p> <pre><code># User model already has:\npreferences = models.JSONField(default=dict, blank=True)\n</code></pre> <p>Frontend can save like: <pre><code>api.patch('/core/users/me/', {\n    preferences: {\n        ...currentUser.preferences,\n        communication: commSettings,\n        appearance: appearanceSettings,\n        notifications: notifSettings\n    }\n})\n</code></pre></p>"},{"location":"SETTINGS_STATUS/#option-2-create-dedicated-models-better-for-production","title":"Option 2: Create Dedicated Models (Better for Production)","text":"<pre><code>class UserPreferences(models.Model):\n    user = models.OneToOneField(User, on_delete=models.CASCADE)\n    # Communication\n    email_lessons = models.BooleanField(default=True)\n    email_messages = models.BooleanField(default=True)\n    sms_reminders = models.BooleanField(default=True)\n    # Appearance  \n    theme = models.CharField(max_length=20, default='light')\n    font_size = models.CharField(max_length=20, default='medium')\n    # ... etc\n\nclass StudioTechnicalSettings(models.Model):\n    studio = models.OneToOneField(Studio, on_delete=models.CASCADE)\n    # SMTP\n    smtp_host = models.CharField(max_length=255, blank=True)\n    smtp_port = models.IntegerField(default=587)\n    smtp_password = models.CharField(max_length=255, blank=True)  # Should be encrypted!\n    # SMS\n    sms_provider = models.CharField(max_length=50, default='twilio')\n    sms_auth_token = models.CharField(max_length=255, blank=True)  # Should be encrypted!\n</code></pre>"},{"location":"SETTINGS_STATUS/#quick-fix-for-avatar-upload","title":"Quick Fix for Avatar Upload","text":"<p>If avatar upload isn't working, check:</p> <ol> <li> <p>Django settings.py: <pre><code>MEDIA_URL = '/media/'\nMEDIA_ROOT = BASE_DIR / 'media'\n</code></pre></p> </li> <li> <p>urls.py (development): <pre><code>from django.conf import settings\nfrom django.conf.urls.static import static\n\nurlpatterns = [\n    # ... your urls\n] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n</code></pre></p> </li> <li> <p>Directory permissions: <pre><code>mkdir -p media/avatars\nchmod 755 media media/avatars\n</code></pre></p> </li> <li> <p>Serializer update handling: Make sure the serializer properly handles file uploads in the <code>update()</code> method.</p> </li> </ol>"},{"location":"SETTINGS_STATUS/#testing-avatar-upload","title":"Testing Avatar Upload","text":"<p>Open browser console and try: <pre><code>const fileInput = document.querySelector('input[type=\"file\"]');\nfileInput.addEventListener('change', async (e) =&gt; {\n  const file = e.target.files[0];\n  const formData = new FormData();\n  formData.append('avatar', file);\n\n  try {\n    const response = await fetch('/api/core/users/me/', {\n      method: 'PATCH',\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      },\n      body: formData  // Don't set Content-Type header!\n    });\n    console.log(await response.json());\n  } catch (error) {\n    console.error('Upload failed:', error);\n  }\n});\n</code></pre></p>"},{"location":"SETTINGS_STATUS/#recommended-next-steps","title":"Recommended Next Steps","text":"<ol> <li>\u2705 Immediate: Add console.error logging to avatar upload to see actual error</li> <li>\u2705 Quick Win: Use <code>User.preferences</code> JSON field for settings</li> <li>\ud83d\udd04 Phase 2: Create dedicated models for better data structure</li> <li>\ud83d\udd12 Security: Encrypt SMTP/SMS credentials before production</li> </ol>"},{"location":"STUDIO_BUILDER/","title":"Studio Builder - Vision","text":""},{"location":"STUDIO_BUILDER/#overview","title":"Overview","text":"<p>The Studio Builder is a visual interface that allows studio owners to design their physical studio layout, define rooms, and manage equipment placement.</p>"},{"location":"STUDIO_BUILDER/#features","title":"Features","text":"<ul> <li>Drag &amp; Drop Interface: Drag room templates (Studio A, Reception, Waiting Area) onto a grid.</li> <li>Room Configuration: Define room name, capacity, hourly rate, and included equipment.</li> <li>Inventory Integration: Link inventory items (pianos, drum kits) to specific rooms.</li> <li>Visual Status: Real-time occupancy status (which rooms are currently in use).</li> </ul>"},{"location":"STUDIO_BUILDER/#data-model","title":"Data Model","text":""},{"location":"STUDIO_BUILDER/#studioroom","title":"StudioRoom","text":"<ul> <li><code>studio</code>: Link to Studio.</li> <li><code>name</code>: string.</li> <li><code>type</code>: 'lesson_room', 'waiting_area', 'performance_hall'.</li> <li><code>capacity</code>: integer.</li> <li><code>grid_x</code>, <code>grid_y</code>: Positioning for the visual builder.</li> <li><code>width</code>, <code>height</code>: Dimensions.</li> </ul>"},{"location":"STUDIO_BUILDER/#implementation-plan","title":"Implementation Plan","text":"<ol> <li>Backend:</li> <li>Create <code>StudioRoom</code> model and API endpoints.</li> <li> <p>Add positioning fields to allow persistence of the layout.</p> </li> <li> <p>Frontend:</p> </li> <li>Create a grid-based canvas for the builder.</li> <li>Use <code>dnd-kit</code> or similar for drag-and-drop.</li> <li> <p>Implement a \"Room Library\" with presets.</p> </li> <li> <p>Integration:</p> </li> <li>Link rooms to the main scheduling system.</li> <li>Allow students to book specific rooms during lesson scheduling.</li> </ol>"},{"location":"TEACHER_BIO_PAGES/","title":"Teacher Bio Pages &amp; Public Visibility","text":""},{"location":"TEACHER_BIO_PAGES/#privacy-issue-fixed","title":"\u2705 Privacy Issue Fixed","text":"<p>The public calendar no longer shows student names or lesson details to unauthenticated users.</p> <p>Now shows: - \u2705 \"Piano Lesson\" instead of \"Piano - Sarah Johnson\" - \u2705 Time slots (for availability reference) - \u2705 Lesson types (Piano, Guitar, Violin, etc.) - \u274c NO student names - \u274c NO lesson notes/details</p>"},{"location":"TEACHER_BIO_PAGES/#teacher-bio-pages-recommended-feature","title":"\ud83c\udf93 Teacher Bio Pages (Recommended Feature)","text":""},{"location":"TEACHER_BIO_PAGES/#why-teachers-should-be-public","title":"Why Teachers Should Be Public:","text":"<p>Unlike students (whose privacy MUST be protected), teachers are: - Marketing their services to prospective students - Public figures within their professional capacity - Need discoverability for studio growth</p>"},{"location":"TEACHER_BIO_PAGES/#what-to-show-on-teacher-bios","title":"What to Show on Teacher Bios:","text":"<p>\u2705 Public Information: - Professional photo/headshot - First name + Last name - Specializations (Piano, Guitar, Vocal, etc.) - Years of experience - Education/credentials - Teaching philosophy - Student testimonials (with permission) - Available time slots - Pricing (optional) - Awards/performances</p> <p>\u274c Private Information: - Home address - Personal phone number (use studio contact) - Personal email (use studio email) - Current student names - Student progress details</p>"},{"location":"TEACHER_BIO_PAGES/#recommended-implementation","title":"\ud83d\udcc4 Recommended Implementation","text":""},{"location":"TEACHER_BIO_PAGES/#1-public-teacher-directory","title":"1. Public Teacher Directory","text":"<p>Page: <code>/teachers</code> (no auth required)</p> <pre><code>// Example: /app/teachers/page.tsx\nexport default function TeachersPage() {\n  return (\n    &lt;div&gt;\n      &lt;h1&gt;Meet Our Instructors&lt;/h1&gt;\n\n      {/* Grid of teacher cards */}\n      &lt;div className=\"grid grid-cols-3 gap-6\"&gt;\n        &lt;TeacherCard\n          name=\"John Smith\"\n          photo=\"/teachers/john.jpg\"\n          specialties={['Piano', 'Theory']}\n          bio=\"15 years of teaching experience...\"\n          link=\"/teachers/john-smith\"\n        /&gt;\n        {/* More teachers */}\n      &lt;/div&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre>"},{"location":"TEACHER_BIO_PAGES/#2-individual-teacher-bio-pages","title":"2. Individual Teacher Bio Pages","text":"<p>Page: <code>/teachers/[slug]</code> (no auth required)</p> <pre><code>// Example: /app/teachers/[slug]/page.tsx\nexport default function TeacherBioPage({ params }) {\n  const teacher = getTeacher(params.slug)\n\n  return (\n    &lt;div&gt;\n      {/* Hero section */}\n      &lt;div className=\"flex gap-6\"&gt;\n        &lt;img src={teacher.photo} className=\"w-48 h-48 rounded-full\" /&gt;\n        &lt;div&gt;\n          &lt;h1&gt;{teacher.full_name}&lt;/h1&gt;\n          &lt;p className=\"text-xl\"&gt;{teacher.specialties.join(', ')}&lt;/p&gt;\n          &lt;button&gt;Book a Trial Lesson&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n      {/* Bio section */}\n      &lt;section&gt;\n        &lt;h2&gt;About {teacher.first_name}&lt;/h2&gt;\n        &lt;p&gt;{teacher.bio}&lt;/p&gt;\n      &lt;/section&gt;\n\n      {/* Credentials */}\n      &lt;section&gt;\n        &lt;h2&gt;Education &amp; Experience&lt;/h2&gt;\n        &lt;ul&gt;\n          &lt;li&gt;{teacher.education}&lt;/li&gt;\n          &lt;li&gt;{teacher.years_experience} years teaching&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/section&gt;\n\n      {/* Testimonials */}\n      &lt;section&gt;\n        &lt;h2&gt;What Students Say&lt;/h2&gt;\n        {teacher.testimonials.map(t =&gt; (\n          &lt;blockquote key={t.id}&gt;\n            \"{t.text}\"\n            &lt;cite&gt;- {t.student_first_name}&lt;/cite&gt;\n          &lt;/blockquote&gt;\n        ))}\n      &lt;/section&gt;\n\n      {/* Availability calendar (generic) */}\n      &lt;section&gt;\n        &lt;h2&gt;Availability&lt;/h2&gt;\n        &lt;Calendar\n          teacherId={teacher.id}\n          showAvailabilityOnly={true}  // Only show open slots\n        /&gt;\n      &lt;/section&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre>"},{"location":"TEACHER_BIO_PAGES/#3-backend-model-additions","title":"3. Backend Model Additions","text":"<p>Add to Teacher model:</p> <pre><code>class Teacher(models.Model):\n    # Existing fields...\n\n    # Public bio fields\n    public_bio = models.TextField(blank=True, help_text=\"Public-facing biography\")\n    education = models.TextField(blank=True)\n    years_experience = models.IntegerField(default=0)\n    awards = models.TextField(blank=True)\n    teaching_philosophy = models.TextField(blank=True)\n\n    # Visibility\n    public_profile = models.BooleanField(default=True, help_text=\"Show in public directory\")\n    accepting_students = models.BooleanField(default=True)\n\n    # Contact (studio contact, not personal)\n    public_email = models.EmailField(blank=True, help_text=\"Studio email for inquiries\")\n\n    # SEO\n    slug = models.SlugField(unique=True, help_text=\"URL-friendly name\")\n    meta_description = models.CharField(max_length=160, blank=True)\n</code></pre>"},{"location":"TEACHER_BIO_PAGES/#4-public-testimonials","title":"4. Public Testimonials","text":"<p>New model:</p> <pre><code>class Testimonial(models.Model):\n    teacher = models.ForeignKey(Teacher, on_delete=models.CASCADE)\n    student_first_name = models.CharField(max_length=50)  # Only first name!\n    text = models.TextField()\n    rating = models.IntegerField(default=5, validators=[MinValueValidator(1), MaxValueValidator(5)])\n    approved = models.BooleanField(default=False)  # Admin approval required\n    created_at = models.DateTimeField(auto_now_add=True)\n\n    class Meta:\n        ordering = ['-created_at']\n</code></pre>"},{"location":"TEACHER_BIO_PAGES/#privacy-balance","title":"\ud83d\udd12 Privacy Balance","text":""},{"location":"TEACHER_BIO_PAGES/#students","title":"Students:","text":"<ul> <li>\u274c Never show names publicly</li> <li>\u274c Never show schedules to other students</li> <li>\u274c Never show contact info without permission</li> <li>\u2705 Only show to their teacher and admins</li> </ul>"},{"location":"TEACHER_BIO_PAGES/#teachers","title":"Teachers:","text":"<ul> <li>\u2705 Public profiles for marketing</li> <li>\u2705 Show availability (not specific student times)</li> <li>\u2705 Show \"John is busy 2-3 PM\" (not \"teaching Sarah\")</li> <li>\u2705 Professional photo and credentials</li> <li>\u274c Don't expose personal contact info (use studio contact)</li> <li>\u274c Don't list current students by name</li> </ul>"},{"location":"TEACHER_BIO_PAGES/#public-calendar-display","title":"\ud83d\udcca Public Calendar Display","text":"<p>For unauthenticated users viewing teacher schedules:</p> <p>GOOD: <pre><code>\ud83d\udcc5 Ms. Smith's Schedule - Tuesday, Dec 20\n\n10:00 AM - 11:00 AM: Available\n11:00 AM - 12:00 PM: Busy (Piano lesson)\n12:00 PM - 1:00 PM: Available\n1:00 PM - 2:00 PM: Busy (Lesson)\n2:00 PM - 3:00 PM: Available\n</code></pre></p> <p>BAD: <pre><code>\ud83d\udcc5 Ms. Smith's Schedule - Tuesday, Dec 20\n\n10:00 AM - 11:00 AM: Available\n11:00 AM - 12:00 PM: Teaching Sarah Johnson (Piano)  \u274c\n12:00 PM - 1:00 PM: Available\n1:00 PM - 2:00 PM: Teaching Mike Chen (Guitar)  \u274c\n</code></pre></p>"},{"location":"TEACHER_BIO_PAGES/#next-steps","title":"\ud83d\ude80 Next Steps","text":"<ol> <li>Create Teacher Directory Page</li> <li>Public-facing page showing all teachers</li> <li>Filterable by instrument/specialty</li> <li> <p>\"Book Trial Lesson\" call-to-action</p> </li> <li> <p>Create Individual Teacher Bio Pages</p> </li> <li>Professional headshot</li> <li>Biography and credentials</li> <li>Teaching philosophy</li> <li>Student testimonials</li> <li> <p>Availability calendar (generic)</p> </li> <li> <p>Add Teacher Profile Management</p> </li> <li>Dashboard section for teachers to update their bio</li> <li>Upload professional photo</li> <li> <p>Manage what's public vs private</p> </li> <li> <p>SEO Optimization</p> </li> <li>Structured data (schema.org/Person)</li> <li>Meta descriptions</li> <li>Friendly URLs (/teachers/john-smith)</li> <li>Social media open graph tags</li> </ol>"},{"location":"TEACHER_BIO_PAGES/#example-teacher-bio-template","title":"\ud83d\udcdd Example Teacher Bio Template","text":"<pre><code># Meet John Smith - Piano &amp; Music Theory Instructor\n\n## About John\nWith over 15 years of teaching experience, John specializes in classical piano \nand music theory. He holds a Master's degree in Music Education from Juilliard \nand has helped hundreds of students achieve their musical goals.\n\n## Teaching Philosophy\n\"Every student learns differently. My approach is to meet students where they \nare and guide them on their unique musical journey with patience, expertise, \nand genuine enthusiasm.\"\n\n## Specialties\n- Classical Piano (Beginner to Advanced)\n- Music Theory &amp; Composition\n- Exam Preparation (ABRSM, RCM)\n- Adult Learners Welcome\n\n## What Students Say\n\u2b50\u2b50\u2b50\u2b50\u2b50 \"John made learning piano so much fun!\" - Sarah\n\u2b50\u2b50\u2b50\u2b50\u2b50 \"Best teacher I've ever had.\" - Mike\n\u2b50\u2b50\u2b50\u2b50\u2b50 \"Patient and knowledgeable.\" - Emma\n\n## Book a Lesson\nReady to start your musical journey? [Book a trial lesson] with John today!\n</code></pre> <p>Summary: Teachers should absolutely have public bios! This is industry-standard for music schools and helps with student recruitment while maintaining student privacy.</p>"},{"location":"api/","title":"API Reference","text":"<p>StudioSync provides a RESTful API powered by Django REST Framework.</p>"},{"location":"api/#authentication","title":"Authentication","text":"<p>Most endpoints require a valid JWT token. Obtain a token by logging in:</p> <p><code>POST /api/auth/login/</code></p> <p>Include the token in the header of subsequent requests: <code>Authorization: Bearer &lt;your_token&gt;</code></p>"},{"location":"api/#core-endpoints","title":"Core Endpoints","text":""},{"location":"api/#user-profile","title":"User Profile","text":"<ul> <li><code>GET /api/core/users/me/</code> - Get current user profile.</li> <li><code>PATCH /api/core/users/me/</code> - Update profile settings.</li> </ul>"},{"location":"api/#studio-management","title":"Studio Management","text":"<ul> <li><code>GET /api/core/studios/</code> - List studios for the current user.</li> <li><code>GET /api/core/studios/current/</code> - Get details of the active studio.</li> </ul>"},{"location":"api/#lessons-scheduling","title":"Lessons &amp; Scheduling","text":"<ul> <li><code>GET /api/lessons/</code> - List scheduled lessons.</li> <li><code>POST /api/lessons/</code> - Create a new lesson.</li> <li><code>GET /api/lessons/calendar/</code> - Get lessons formatted for calendar view.</li> </ul>"},{"location":"api/#inventory","title":"Inventory","text":"<ul> <li><code>GET /api/inventory/</code> - List all inventory items.</li> <li><code>POST /api/inventory/checkouts/</code> - Request an item checkout.</li> </ul>"},{"location":"api/#notifications","title":"Notifications","text":"<ul> <li><code>GET /api/notifications/</code> - List notifications.</li> <li><code>POST /api/notifications/mark_all_read/</code> - Mark all as read.</li> </ul>"},{"location":"api/#documentation","title":"Documentation","text":"<p>A full interactive API documentation (Swagger/Redoc) is available at: - <code>/api/docs/</code> - <code>/api/redoc/</code></p>"},{"location":"architecture/","title":"Architecture","text":"<p>StudioSync follows a modern, decoupled architecture with a clear separation between the backend API and the frontend user interface.</p>"},{"location":"architecture/#tech-stack","title":"Tech Stack","text":"<p>The application is built using the following technologies:</p> <ul> <li>Frontend: Next.js (React) with TypeScript and Tailwind CSS.</li> <li>Backend: Django REST Framework (Python) for the API.</li> <li>Database: PostgreSQL for relational data.</li> <li>Caching &amp; Tasks: Redis and Celery for asynchronous background tasks.</li> <li>File Storage: AWS S3 (or MinIO for local development) for media and document storage.</li> <li>Infrastructure: Docker and Docker Compose for orchestration.</li> </ul>"},{"location":"architecture/#component-overview","title":"Component Overview","text":""},{"location":"architecture/#backend-django","title":"Backend (Django)","text":"<p>The backend acts as a headless API provider. It is organized into modular apps: - <code>core</code>: User management, studio settings, multi-tenancy, and common utilities. - <code>lessons</code>: Calendar, scheduling, and attendance tracking. - <code>billing</code>: Invoicing, payments, and financial tracking. - <code>inventory</code>: Instrument and equipment tracking. - <code>notifications</code>: Real-time and persistent notification system. - <code>messaging</code>: Internal messaging between users.</p>"},{"location":"architecture/#frontend-nextjs","title":"Frontend (Next.js)","text":"<p>The frontend uses the App Router and serves various roles: - Public: Marketing site and informational pages. - Dashboard: Protected application area for Admins, Teachers, and Students. - Client Sites: Subdomain-based public profiles for studios.</p>"},{"location":"architecture/#authentication","title":"Authentication","text":"<p>JWT-based authentication is used for secure API communication. The frontend stores tokens securely and handles session management.</p>"},{"location":"architecture/#deployment-model","title":"Deployment Model","text":"<p>StudioSync is designed for cloud deployment using Docker. It supports horizontal scaling of the API and web servers, with managed services for the database and storage.</p>"},{"location":"database/","title":"Database Schema","text":"<p>(Content to be added)</p>"},{"location":"getting-started/","title":"Getting Started","text":""},{"location":"getting-started/#quick-start-docker","title":"Quick Start (Docker)","text":"<p>The fastest way to get StudioSync running locally is using Docker Compose.</p>"},{"location":"getting-started/#1-clone-the-repository","title":"1. Clone the Repository","text":"<pre><code>git clone https://github.com/fddl-dev/studiosync.git\ncd music-studio-manager\n</code></pre>"},{"location":"getting-started/#2-start-the-environment","title":"2. Start the Environment","text":"<pre><code>docker-compose up --build\n</code></pre> <p>This will start the backend, frontend, database, and all necessary services. Visit <code>http://localhost:3000</code> to access the application.</p>"},{"location":"getting-started/#manual-installation-development","title":"Manual Installation (Development)","text":"<p>If you prefer to run services manually:</p>"},{"location":"getting-started/#1-prerequisites","title":"1. Prerequisites","text":"<ul> <li>Python 3.10+</li> <li>Node.js 18+</li> <li>PostgreSQL</li> <li>MinIO (for local S3 storage)</li> </ul>"},{"location":"getting-started/#2-backend-setup","title":"2. Backend Setup","text":"<pre><code>cd backend\npython -m venv venv\nsource venv/bin/activate\npip install -r requirements.txt\npython manage.py migrate\npython manage.py runserver\n</code></pre>"},{"location":"getting-started/#3-frontend-setup","title":"3. Frontend Setup","text":"<pre><code>cd frontend\nnpm install\nnpm run dev\n</code></pre> <p>Visit <code>http://localhost:3000</code> to see the application.</p>"},{"location":"modules/billing/","title":"Billing Module","text":""},{"location":"modules/billing/#invoicing","title":"Invoicing","text":"<p>(Content to be added)</p>"},{"location":"modules/billing/#payments","title":"Payments","text":"<p>(Content to be added)</p>"},{"location":"modules/core/","title":"Core Module","text":""},{"location":"modules/core/#user-management","title":"User Management","text":"<p>(Content to be added)</p>"},{"location":"modules/core/#studio-configuration","title":"Studio Configuration","text":"<p>(Content to be added)</p>"},{"location":"modules/lessons/","title":"Lessons Module","text":""},{"location":"modules/lessons/#scheduling","title":"Scheduling","text":"<p>(Content to be added)</p>"},{"location":"modules/lessons/#attendance","title":"Attendance","text":"<p>(Content to be added)</p>"},{"location":"modules/messaging/","title":"Messaging Module","text":"<p>The <code>messaging</code> module facilitates secure, internal communication between users (Admins, Teachers, Students, Parents).</p>"},{"location":"modules/messaging/#features","title":"Features","text":"<ul> <li>Threaded Conversations: Messages are grouped into threads by subject and participants.</li> <li>Real-time Updates: (Planned) WebSocket integration for instant delivery.</li> <li>Unread Tracking: Per-user read status for every message.</li> <li>Attachments: Support for file attachments (images, sheet music).</li> </ul>"},{"location":"modules/messaging/#data-model","title":"Data Model","text":""},{"location":"modules/messaging/#messagethread","title":"MessageThread","text":"<p>Represents a conversation container. *   <code>participants</code>: ManyToManyField to User. *   <code>subject</code>: String.</p>"},{"location":"modules/messaging/#message","title":"Message","text":"<p>An individual message within a thread. *   <code>thread</code>: ForeignKey to MessageThread. *   <code>sender</code>: ForeignKey to User. *   <code>body</code>: Text content. *   <code>read_by</code>: ManyToManyField to User (tracks who has seen the message).</p>"},{"location":"modules/messaging/#api-endpoints","title":"API Endpoints","text":"Method Endpoint Description <code>GET</code> <code>/api/messaging/threads/</code> List threads for current user. <code>POST</code> <code>/api/messaging/threads/</code> Create a new thread. <code>GET</code> <code>/api/messaging/threads/{id}/messages/</code> Get messages in a thread. <code>POST</code> <code>/api/messaging/threads/{id}/reply/</code> Reply to a thread."}]}